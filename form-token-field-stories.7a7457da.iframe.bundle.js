"use strict";(self.webpackChunkgutenberg=self.webpackChunkgutenberg||[]).push([[1641],{"./packages/a11y/build-module/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{D:function(){return speak}});var build_module=__webpack_require__("./packages/i18n/build-module/index.js");function addContainer(){let ariaLive=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"polite";const container=document.createElement("div");container.id=`a11y-speak-${ariaLive}`,container.className="a11y-speak-region",container.setAttribute("style","position: absolute;margin: -1px;padding: 0;height: 1px;width: 1px;overflow: hidden;clip: rect(1px, 1px, 1px, 1px);-webkit-clip-path: inset(50%);clip-path: inset(50%);border: 0;word-wrap: normal !important;"),container.setAttribute("aria-live",ariaLive),container.setAttribute("aria-relevant","additions text"),container.setAttribute("aria-atomic","true");const{body:body}=document;return body&&body.appendChild(container),container}let previousMessage="";function speak(message,ariaLive){!function clear(){const regions=document.getElementsByClassName("a11y-speak-region"),introText=document.getElementById("a11y-speak-intro-text");for(let i=0;i<regions.length;i++)regions[i].textContent="";introText&&introText.setAttribute("hidden","hidden")}(),message=function filterMessage(message){return message=message.replace(/<[^<>]+>/g," "),previousMessage===message&&(message+="Â "),previousMessage=message,message}(message);const introText=document.getElementById("a11y-speak-intro-text"),containerAssertive=document.getElementById("a11y-speak-assertive"),containerPolite=document.getElementById("a11y-speak-polite");containerAssertive&&"assertive"===ariaLive?containerAssertive.textContent=message:containerPolite&&(containerPolite.textContent=message),introText&&introText.removeAttribute("hidden")}!function domReady(callback){"undefined"!=typeof document&&("complete"!==document.readyState&&"interactive"!==document.readyState?document.addEventListener("DOMContentLoaded",callback):callback())}((function setup(){const introText=document.getElementById("a11y-speak-intro-text"),containerAssertive=document.getElementById("a11y-speak-assertive"),containerPolite=document.getElementById("a11y-speak-polite");null===introText&&function addIntroText(){const introText=document.createElement("p");introText.id="a11y-speak-intro-text",introText.className="a11y-speak-intro-text",introText.textContent=(0,build_module.__)("Notifications"),introText.setAttribute("style","position: absolute;margin: -1px;padding: 0;height: 1px;width: 1px;overflow: hidden;clip: rect(1px, 1px, 1px, 1px);-webkit-clip-path: inset(50%);clip-path: inset(50%);border: 0;word-wrap: normal !important;"),introText.setAttribute("hidden","hidden");const{body:body}=document;return body&&body.appendChild(introText),introText}(),null===containerAssertive&&addContainer("assertive"),null===containerPolite&&addContainer("polite")}))},"./packages/components/src/flex/flex/component.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _ui_context__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/components/src/ui/context/context-connect.ts"),_hook__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/components/src/flex/flex/hook.ts"),_context__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/components/src/flex/context.ts"),_view__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/components/src/view/component.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");function UnconnectedFlex(props,forwardedRef){const{children:children,isColumn:isColumn,...otherProps}=(0,_hook__WEBPACK_IMPORTED_MODULE_1__.k)(props);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_context__WEBPACK_IMPORTED_MODULE_2__.G.Provider,{value:{flexItemDisplay:isColumn?"block":void 0},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_view__WEBPACK_IMPORTED_MODULE_3__.Z,{...otherProps,ref:forwardedRef,children:children})})}UnconnectedFlex.displayName="UnconnectedFlex";const Flex=(0,_ui_context__WEBPACK_IMPORTED_MODULE_4__.Iq)(UnconnectedFlex,"Flex");__webpack_exports__.Z=Flex;try{Flex.displayName="Flex",Flex.__docgenInfo={description:"`Flex` is a primitive layout component that adaptively aligns child content\nhorizontally or vertically. `Flex` powers components like `HStack` and\n`VStack`.\n\n`Flex` is used with any of its two sub-components, `FlexItem` and\n`FlexBlock`.\n\n```jsx\nimport { Flex, FlexBlock, FlexItem } from '@wordpress/components';\n\nfunction Example() {\n  return (\n    <Flex>\n      <FlexItem>\n        <p>Code</p>\n      </FlexItem>\n      <FlexBlock>\n        <p>Poetry</p>\n      </FlexBlock>\n    </Flex>\n  );\n}\n```",displayName:"Flex",props:{align:{defaultValue:{value:"'center'"},description:"Aligns children using CSS Flexbox `align-items`. Vertically aligns\ncontent if the `direction` is `row`, or horizontally aligns content if\nthe `direction` is `column`.",name:"align",required:!1,type:{name:"AlignItems"}},direction:{defaultValue:{value:"'row'"},description:"The direction flow of the children content can be adjusted with\n`direction`. `column` will align children vertically and `row` will align\nchildren horizontally.",name:"direction",required:!1,type:{name:"FlexDirection"}},expanded:{defaultValue:{value:"true"},description:"Expands to the maximum available width (if horizontal) or height (if\nvertical).",name:"expanded",required:!1,type:{name:"boolean"}},gap:{defaultValue:{value:"2"},description:"Spacing in between each child can be adjusted by using `gap`.\n\nCan either be a number (which will act as a multiplier to the library's\ngrid system base of 4px), or a literal CSS value string.",name:"gap",required:!1,type:{name:"SpaceInput"}},justify:{defaultValue:{value:"'space-between'"},description:"Horizontally aligns content if the `direction` is `row`, or vertically\naligns content if the `direction` is `column`.",name:"justify",required:!1,type:{name:"JustifyContent"}},wrap:{defaultValue:{value:"false"},description:"Determines if children should wrap.",name:"wrap",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"The children elements.",name:"children",required:!0,type:{name:"ReactNode"}},isReversed:{defaultValue:null,description:"@deprecated",name:"isReversed",required:!1,type:{name:"boolean"}},as:{defaultValue:null,description:"The HTML element or React component to render the component as.",name:"as",required:!1,type:{name:'"symbol" | "object" | "a" | "abbr" | "address" | "area" | "article" | "aside" | "audio" | "b" | "base" | "bdi" | "bdo" | "big" | "blockquote" | "body" | "br" | "button" | "canvas" | ... 507 more ... | ("view" & FunctionComponent<...>)'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/flex/flex/component.tsx#Flex"]={docgenInfo:Flex.__docgenInfo,name:"Flex",path:"packages/components/src/flex/flex/component.tsx#Flex"})}catch(__react_docgen_typescript_loader_error){}},"./packages/components/src/form-token-field/suggestions-list.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var dom_scroll_into_view__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/dom-scroll-into-view/lib/index.js"),dom_scroll_into_view__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(dom_scroll_into_view__WEBPACK_IMPORTED_MODULE_0__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_wordpress_element__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/compose/build-module/hooks/use-ref-effect/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const handleMouseDown=e=>{e.preventDefault()};function SuggestionsList(_ref){let{selectedIndex:selectedIndex,scrollIntoView:scrollIntoView,match:match,onHover:onHover,onSelect:onSelect,suggestions:suggestions=[],displayTransform:displayTransform,instanceId:instanceId,__experimentalRenderItem:__experimentalRenderItem}=_ref;const[scrollingIntoView,setScrollingIntoView]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.useState)(!1),listRef=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__.Z)((listNode=>{let rafId;return selectedIndex>-1&&scrollIntoView&&listNode.children[selectedIndex]&&(setScrollingIntoView(!0),dom_scroll_into_view__WEBPACK_IMPORTED_MODULE_0___default()(listNode.children[selectedIndex],listNode,{onlyScrollIfNeeded:!0}),rafId=requestAnimationFrame((()=>{setScrollingIntoView(!1)}))),()=>{void 0!==rafId&&cancelAnimationFrame(rafId)}}),[selectedIndex,scrollIntoView]),handleHover=suggestion=>()=>{scrollingIntoView||null==onHover||onHover(suggestion)},handleClick=suggestion=>()=>{null==onSelect||onSelect(suggestion)};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("ul",{ref:listRef,className:"components-form-token-field__suggestions-list",id:`components-form-token-suggestions-${instanceId}`,role:"listbox",children:suggestions.map(((suggestion,index)=>{const matchText=(suggestion=>{const matchText=displayTransform(match).toLocaleLowerCase();if(0===matchText.length)return null;const transformedSuggestion=displayTransform(suggestion),indexOfMatch=transformedSuggestion.toLocaleLowerCase().indexOf(matchText);return{suggestionBeforeMatch:transformedSuggestion.substring(0,indexOfMatch),suggestionMatch:transformedSuggestion.substring(indexOfMatch,indexOfMatch+matchText.length),suggestionAfterMatch:transformedSuggestion.substring(indexOfMatch+matchText.length)}})(suggestion),className=classnames__WEBPACK_IMPORTED_MODULE_1___default()("components-form-token-field__suggestion",{"is-selected":index===selectedIndex});let output;return output="function"==typeof __experimentalRenderItem?__experimentalRenderItem({item:suggestion}):matchText?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("span",{"aria-label":displayTransform(suggestion),children:[matchText.suggestionBeforeMatch,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("strong",{className:"components-form-token-field__suggestion-match",children:matchText.suggestionMatch}),matchText.suggestionAfterMatch]}):displayTransform(suggestion),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("li",{id:`components-form-token-suggestions-${instanceId}-${index}`,role:"option",className:className,onMouseDown:handleMouseDown,onClick:handleClick(suggestion),onMouseEnter:handleHover(suggestion),"aria-selected":index===selectedIndex,children:output},"object"==typeof suggestion&&"value"in suggestion?null==suggestion?void 0:suggestion.value:displayTransform(suggestion))}))})}SuggestionsList.displayName="SuggestionsList",__webpack_exports__.Z=SuggestionsList;try{SuggestionsList.displayName="SuggestionsList",SuggestionsList.__docgenInfo={description:"",displayName:"SuggestionsList",props:{selectedIndex:{defaultValue:null,description:"",name:"selectedIndex",required:!0,type:{name:"number"}},scrollIntoView:{defaultValue:null,description:"",name:"scrollIntoView",required:!0,type:{name:"boolean"}},match:{defaultValue:null,description:"",name:"match",required:!0,type:{name:"string | { value: string; }"}},onHover:{defaultValue:null,description:"",name:"onHover",required:!0,type:{name:"(suggestion: T) => void"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(suggestion: T) => void"}},suggestions:{defaultValue:{value:"[]"},description:"",name:"suggestions",required:!1,type:{name:"T[]"}},displayTransform:{defaultValue:null,description:"",name:"displayTransform",required:!0,type:{name:"(value: T) => string"}},instanceId:{defaultValue:null,description:"",name:"instanceId",required:!0,type:{name:"string | number"}},__experimentalRenderItem:{defaultValue:null,description:"",name:"__experimentalRenderItem",required:!1,type:{name:"(args: { item: T; }) => ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/form-token-field/suggestions-list.tsx#SuggestionsList"]={docgenInfo:SuggestionsList.__docgenInfo,name:"SuggestionsList",path:"packages/components/src/form-token-field/suggestions-list.tsx#SuggestionsList"})}catch(__react_docgen_typescript_loader_error){}},"./packages/components/src/form-token-field/token-input.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),_wordpress_element__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function UnForwardedTokenInput(props,ref){const{value:value,isExpanded:isExpanded,instanceId:instanceId,selectedSuggestionIndex:selectedSuggestionIndex,className:className,onChange:onChange,onFocus:onFocus,onBlur:onBlur,...restProps}=props,[hasFocus,setHasFocus]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),size=value?value.length+1:0;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("input",{ref:ref,id:`components-form-token-input-${instanceId}`,type:"text",...restProps,value:value||"",onChange:event=>{onChange&&onChange({value:event.target.value})},onFocus:e=>{setHasFocus(!0),null==onFocus||onFocus(e)},onBlur:e=>{setHasFocus(!1),null==onBlur||onBlur(e)},size:size,className:classnames__WEBPACK_IMPORTED_MODULE_0___default()(className,"components-form-token-field__input"),autoComplete:"off",role:"combobox","aria-expanded":isExpanded,"aria-autocomplete":"list","aria-owns":isExpanded?`components-form-token-suggestions-${instanceId}`:void 0,"aria-activedescendant":hasFocus&&-1!==selectedSuggestionIndex&&isExpanded?`components-form-token-suggestions-${instanceId}-${selectedSuggestionIndex}`:void 0,"aria-describedby":`components-form-token-suggestions-howto-${instanceId}`})}UnForwardedTokenInput.displayName="UnForwardedTokenInput";const TokenInput=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.forwardRef)(UnForwardedTokenInput);__webpack_exports__.ZP=TokenInput;try{UnForwardedTokenInput.displayName="UnForwardedTokenInput",UnForwardedTokenInput.__docgenInfo={description:"",displayName:"UnForwardedTokenInput",props:{isExpanded:{defaultValue:null,description:"",name:"isExpanded",required:!0,type:{name:"boolean"}},instanceId:{defaultValue:null,description:"",name:"instanceId",required:!0,type:{name:"string | number"}},selectedSuggestionIndex:{defaultValue:null,description:"",name:"selectedSuggestionIndex",required:!0,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"({ value }: { value: string; }) => void"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/form-token-field/token-input.tsx#UnForwardedTokenInput"]={docgenInfo:UnForwardedTokenInput.__docgenInfo,name:"UnForwardedTokenInput",path:"packages/components/src/form-token-field/token-input.tsx#UnForwardedTokenInput"})}catch(__react_docgen_typescript_loader_error){}try{TokenInput.displayName="TokenInput",TokenInput.__docgenInfo={description:"",displayName:"TokenInput",props:{isExpanded:{defaultValue:null,description:"",name:"isExpanded",required:!0,type:{name:"boolean"}},instanceId:{defaultValue:null,description:"",name:"instanceId",required:!0,type:{name:"string | number"}},selectedSuggestionIndex:{defaultValue:null,description:"",name:"selectedSuggestionIndex",required:!0,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"({ value }: { value: string; }) => void"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/form-token-field/token-input.tsx#TokenInput"]={docgenInfo:TokenInput.__docgenInfo,name:"TokenInput",path:"packages/components/src/form-token-field/token-input.tsx#TokenInput"})}catch(__react_docgen_typescript_loader_error){}try{tokeninput.displayName="tokeninput",tokeninput.__docgenInfo={description:"",displayName:"tokeninput",props:{isExpanded:{defaultValue:null,description:"",name:"isExpanded",required:!0,type:{name:"boolean"}},instanceId:{defaultValue:null,description:"",name:"instanceId",required:!0,type:{name:"string | number"}},selectedSuggestionIndex:{defaultValue:null,description:"",name:"selectedSuggestionIndex",required:!0,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"({ value }: { value: string; }) => void"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/form-token-field/token-input.tsx#tokeninput"]={docgenInfo:tokeninput.__docgenInfo,name:"tokeninput",path:"packages/components/src/form-token-field/token-input.tsx#tokeninput"})}catch(__react_docgen_typescript_loader_error){}},"./packages/compose/build-module/hooks/use-previous/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return usePrevious}});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function usePrevious(value){const ref=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useRef)();return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{ref.current=value}),[value]),ref.current}},"./packages/icons/build-module/library/close-small.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const closeSmall=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));__webpack_exports__.Z=closeSmall},"./node_modules/dom-scroll-into-view/lib/dom-scroll-into-view.js":function(module,__unused_webpack_exports,__webpack_require__){var util=__webpack_require__("./node_modules/dom-scroll-into-view/lib/util.js");module.exports=function scrollIntoView(elem,container,config){config=config||{},9===container.nodeType&&(container=util.getWindow(container));var allowHorizontalScroll=config.allowHorizontalScroll,onlyScrollIfNeeded=config.onlyScrollIfNeeded,alignWithTop=config.alignWithTop,alignWithLeft=config.alignWithLeft,offsetTop=config.offsetTop||0,offsetLeft=config.offsetLeft||0,offsetBottom=config.offsetBottom||0,offsetRight=config.offsetRight||0;allowHorizontalScroll=void 0===allowHorizontalScroll||allowHorizontalScroll;var isWin=util.isWindow(container),isFramed=!(!isWin||!container.frameElement),elemOffset=util.offset(elem),eh=util.outerHeight(elem),ew=util.outerWidth(elem),containerOffset=void 0,ch=void 0,cw=void 0,containerScroll=void 0,diffTop=void 0,diffBottom=void 0,win=void 0,winScroll=void 0,ww=void 0,wh=void 0;isFramed&&(container=container.document.scrollingElement||container.document.body),isWin||isFramed?(win=container,wh=util.height(win),ww=util.width(win),winScroll={left:util.scrollLeft(win),top:util.scrollTop(win)},diffTop={left:elemOffset.left-winScroll.left-offsetLeft,top:elemOffset.top-winScroll.top-offsetTop},diffBottom={left:elemOffset.left+ew-(winScroll.left+ww)+offsetRight,top:elemOffset.top+eh-(winScroll.top+wh)+offsetBottom},containerScroll=winScroll):(containerOffset=util.offset(container),ch=container.clientHeight,cw=container.clientWidth,containerScroll={left:container.scrollLeft,top:container.scrollTop},diffTop={left:elemOffset.left-(containerOffset.left+(parseFloat(util.css(container,"borderLeftWidth"))||0))-offsetLeft,top:elemOffset.top-(containerOffset.top+(parseFloat(util.css(container,"borderTopWidth"))||0))-offsetTop},diffBottom={left:elemOffset.left+ew-(containerOffset.left+cw+(parseFloat(util.css(container,"borderRightWidth"))||0))+offsetRight,top:elemOffset.top+eh-(containerOffset.top+ch+(parseFloat(util.css(container,"borderBottomWidth"))||0))+offsetBottom}),diffTop.top<0||diffBottom.top>0?!0===alignWithTop?util.scrollTop(container,containerScroll.top+diffTop.top):!1===alignWithTop?util.scrollTop(container,containerScroll.top+diffBottom.top):diffTop.top<0?util.scrollTop(container,containerScroll.top+diffTop.top):util.scrollTop(container,containerScroll.top+diffBottom.top):onlyScrollIfNeeded||((alignWithTop=void 0===alignWithTop||!!alignWithTop)?util.scrollTop(container,containerScroll.top+diffTop.top):util.scrollTop(container,containerScroll.top+diffBottom.top)),allowHorizontalScroll&&(diffTop.left<0||diffBottom.left>0?!0===alignWithLeft?util.scrollLeft(container,containerScroll.left+diffTop.left):!1===alignWithLeft?util.scrollLeft(container,containerScroll.left+diffBottom.left):diffTop.left<0?util.scrollLeft(container,containerScroll.left+diffTop.left):util.scrollLeft(container,containerScroll.left+diffBottom.left):onlyScrollIfNeeded||((alignWithLeft=void 0===alignWithLeft||!!alignWithLeft)?util.scrollLeft(container,containerScroll.left+diffTop.left):util.scrollLeft(container,containerScroll.left+diffBottom.left)))}},"./node_modules/dom-scroll-into-view/lib/index.js":function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__("./node_modules/dom-scroll-into-view/lib/dom-scroll-into-view.js")},"./node_modules/dom-scroll-into-view/lib/util.js":function(module){var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};function getScroll(w,top){var ret=w["page"+(top?"Y":"X")+"Offset"],method="scroll"+(top?"Top":"Left");if("number"!=typeof ret){var d=w.document;"number"!=typeof(ret=d.documentElement[method])&&(ret=d.body[method])}return ret}function getScrollLeft(w){return getScroll(w)}function getScrollTop(w){return getScroll(w,!0)}function getOffset(el){var pos=function getClientPosition(elem){var box,x=void 0,y=void 0,doc=elem.ownerDocument,body=doc.body,docElem=doc&&doc.documentElement;return x=(box=elem.getBoundingClientRect()).left,y=box.top,{left:x-=docElem.clientLeft||body.clientLeft||0,top:y-=docElem.clientTop||body.clientTop||0}}(el),doc=el.ownerDocument,w=doc.defaultView||doc.parentWindow;return pos.left+=getScrollLeft(w),pos.top+=getScrollTop(w),pos}var _RE_NUM_NO_PX=new RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i"),RE_POS=/^(top|right|bottom|left)$/;var getComputedStyleX=void 0;function each(arr,fn){for(var i=0;i<arr.length;i++)fn(arr[i])}function isBorderBoxFn(elem){return"border-box"===getComputedStyleX(elem,"boxSizing")}"undefined"!=typeof window&&(getComputedStyleX=window.getComputedStyle?function _getComputedStyle(elem,name,computedStyle_){var val="",d=elem.ownerDocument,computedStyle=computedStyle_||d.defaultView.getComputedStyle(elem,null);return computedStyle&&(val=computedStyle.getPropertyValue(name)||computedStyle[name]),val}:function _getComputedStyleIE(elem,name){var ret=elem.currentStyle&&elem.currentStyle[name];if(_RE_NUM_NO_PX.test(ret)&&!RE_POS.test(name)){var style=elem.style,left=style.left,rsLeft=elem.runtimeStyle.left;elem.runtimeStyle.left=elem.currentStyle.left,style.left="fontSize"===name?"1em":ret||0,ret=style.pixelLeft+"px",style.left=left,elem.runtimeStyle.left=rsLeft}return""===ret?"auto":ret});var BOX_MODELS=["margin","border","padding"];function swap(elem,options,callback){var old={},style=elem.style,name=void 0;for(name in options)options.hasOwnProperty(name)&&(old[name]=style[name],style[name]=options[name]);for(name in callback.call(elem),options)options.hasOwnProperty(name)&&(style[name]=old[name])}function getPBMWidth(elem,props,which){var value=0,prop=void 0,j=void 0,i=void 0;for(j=0;j<props.length;j++)if(prop=props[j])for(i=0;i<which.length;i++){var cssProp=void 0;cssProp="border"===prop?prop+which[i]+"Width":prop+which[i],value+=parseFloat(getComputedStyleX(elem,cssProp))||0}return value}function isWindow(obj){return null!=obj&&obj==obj.window}var domUtils={};function getWH(elem,name,extra){if(isWindow(elem))return"width"===name?domUtils.viewportWidth(elem):domUtils.viewportHeight(elem);if(9===elem.nodeType)return"width"===name?domUtils.docWidth(elem):domUtils.docHeight(elem);var which="width"===name?["Left","Right"]:["Top","Bottom"],borderBoxValue="width"===name?elem.offsetWidth:elem.offsetHeight,isBorderBox=(getComputedStyleX(elem),isBorderBoxFn(elem)),cssBoxValue=0;(null==borderBoxValue||borderBoxValue<=0)&&(borderBoxValue=void 0,(null==(cssBoxValue=getComputedStyleX(elem,name))||Number(cssBoxValue)<0)&&(cssBoxValue=elem.style[name]||0),cssBoxValue=parseFloat(cssBoxValue)||0),void 0===extra&&(extra=isBorderBox?1:-1);var borderBoxValueOrIsBorderBox=void 0!==borderBoxValue||isBorderBox,val=borderBoxValue||cssBoxValue;if(-1===extra)return borderBoxValueOrIsBorderBox?val-getPBMWidth(elem,["border","padding"],which):cssBoxValue;if(borderBoxValueOrIsBorderBox){var padding=2===extra?-getPBMWidth(elem,["border"],which):getPBMWidth(elem,["margin"],which);return val+(1===extra?0:padding)}return cssBoxValue+getPBMWidth(elem,BOX_MODELS.slice(extra),which)}each(["Width","Height"],(function(name){domUtils["doc"+name]=function(refWin){var d=refWin.document;return Math.max(d.documentElement["scroll"+name],d.body["scroll"+name],domUtils["viewport"+name](d))},domUtils["viewport"+name]=function(win){var prop="client"+name,doc=win.document,body=doc.body,documentElementProp=doc.documentElement[prop];return"CSS1Compat"===doc.compatMode&&documentElementProp||body&&body[prop]||documentElementProp}}));var cssShow={position:"absolute",visibility:"hidden",display:"block"};function getWHIgnoreDisplay(elem){var val=void 0,args=arguments;return 0!==elem.offsetWidth?val=getWH.apply(void 0,args):swap(elem,cssShow,(function(){val=getWH.apply(void 0,args)})),val}function css(el,name,v){var value=v;if("object"!==(void 0===name?"undefined":_typeof(name)))return void 0!==value?("number"==typeof value&&(value+="px"),void(el.style[name]=value)):getComputedStyleX(el,name);for(var i in name)name.hasOwnProperty(i)&&css(el,i,name[i])}each(["width","height"],(function(name){var first=name.charAt(0).toUpperCase()+name.slice(1);domUtils["outer"+first]=function(el,includeMargin){return el&&getWHIgnoreDisplay(el,name,includeMargin?0:1)};var which="width"===name?["Left","Right"]:["Top","Bottom"];domUtils[name]=function(elem,val){if(void 0===val)return elem&&getWHIgnoreDisplay(elem,name,-1);if(elem){getComputedStyleX(elem);return isBorderBoxFn(elem)&&(val+=getPBMWidth(elem,["padding","border"],which)),css(elem,name,val)}}})),module.exports=_extends({getWindow:function getWindow(node){var doc=node.ownerDocument||node;return doc.defaultView||doc.parentWindow},offset:function offset(el,value){if(void 0===value)return getOffset(el);!function setOffset(elem,offset){"static"===css(elem,"position")&&(elem.style.position="relative");var old=getOffset(elem),ret={},current=void 0,key=void 0;for(key in offset)offset.hasOwnProperty(key)&&(current=parseFloat(css(elem,key))||0,ret[key]=current+offset[key]-old[key]);css(elem,ret)}(el,value)},isWindow:isWindow,each:each,css:css,clone:function clone(obj){var ret={};for(var i in obj)obj.hasOwnProperty(i)&&(ret[i]=obj[i]);if(obj.overflow)for(var i in obj)obj.hasOwnProperty(i)&&(ret.overflow[i]=obj.overflow[i]);return ret},scrollLeft:function scrollLeft(w,v){if(isWindow(w)){if(void 0===v)return getScrollLeft(w);window.scrollTo(v,getScrollTop(w))}else{if(void 0===v)return w.scrollLeft;w.scrollLeft=v}},scrollTop:function scrollTop(w,v){if(isWindow(w)){if(void 0===v)return getScrollTop(w);window.scrollTo(getScrollLeft(w),v)}else{if(void 0===v)return w.scrollTop;w.scrollTop=v}},viewportWidth:0,viewportHeight:0},domUtils)},"./packages/components/src/form-token-field/stories/index.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Async:function(){return Async},Default:function(){return Default},DropdownSelector:function(){return DropdownSelector},WithCustomRenderItem:function(){return WithCustomRenderItem},default:function(){return stories}});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),use_instance_id=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),use_previous=__webpack_require__("./packages/compose/build-module/hooks/use-previous/index.js"),use_debounce=__webpack_require__("./packages/compose/build-module/hooks/use-debounce/index.js"),a11y_build_module=__webpack_require__("./packages/a11y/build-module/index.js"),is_shallow_equal_build_module=__webpack_require__("./packages/is-shallow-equal/build-module/index.js"),close_small=__webpack_require__("./packages/icons/build-module/library/close-small.js"),src_button=__webpack_require__("./packages/components/src/button/index.js"),component=__webpack_require__("./packages/components/src/visually-hidden/component.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const noop=()=>{};function Token(_ref){let{value:value,status:status,title:title,displayTransform:displayTransform,isBorderless:isBorderless=!1,disabled:disabled=!1,onClickRemove:onClickRemove=noop,onMouseEnter:onMouseEnter,onMouseLeave:onMouseLeave,messages:messages,termPosition:termPosition,termsCount:termsCount}=_ref;const instanceId=(0,use_instance_id.Z)(Token),tokenClasses=classnames_default()("components-form-token-field__token",{"is-error":"error"===status,"is-success":"success"===status,"is-validating":"validating"===status,"is-borderless":isBorderless,"is-disabled":disabled}),transformedValue=displayTransform(value),termPositionAndCount=(0,build_module.gB)((0,build_module.__)("%1$s (%2$s of %3$s)"),transformedValue,termPosition,termsCount);return(0,jsx_runtime.jsxs)("span",{className:tokenClasses,onMouseEnter:onMouseEnter,onMouseLeave:onMouseLeave,title:title,children:[(0,jsx_runtime.jsxs)("span",{className:"components-form-token-field__token-text",id:`components-form-token-field__token-text-${instanceId}`,children:[(0,jsx_runtime.jsx)(component.Z,{as:"span",children:termPositionAndCount}),(0,jsx_runtime.jsx)("span",{"aria-hidden":"true",children:transformedValue})]}),(0,jsx_runtime.jsx)(src_button.Z,{className:"components-form-token-field__remove-token",icon:close_small.Z,onClick:!disabled&&(()=>onClickRemove({value:value})),label:messages.remove,"aria-describedby":`components-form-token-field__token-text-${instanceId}`})]})}Token.displayName="Token";try{token.displayName="token",token.__docgenInfo={description:"",displayName:"token",props:{displayTransform:{defaultValue:null,description:"",name:"displayTransform",required:!0,type:{name:"(value: string) => string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},onClickRemove:{defaultValue:{value:"() => {}"},description:"",name:"onClickRemove",required:!1,type:{name:"({ value }: { value: string; }) => void"}},messages:{defaultValue:null,description:"",name:"messages",required:!0,type:{name:"Messages"}},termPosition:{defaultValue:null,description:"",name:"termPosition",required:!0,type:{name:"number"}},termsCount:{defaultValue:null,description:"",name:"termsCount",required:!0,type:{name:"number"}},value:{defaultValue:null,description:"The value of the token.",name:"value",required:!0,type:{name:"string"}},status:{defaultValue:null,description:"One of 'error', 'validating', or 'success'. Applies styles to token.",name:"status",required:!1,type:{name:"enum",value:[{value:'"error"'},{value:'"success"'},{value:'"validating"'}]}},title:{defaultValue:null,description:"If not falsey, will add a title to the token.",name:"title",required:!1,type:{name:"string"}},isBorderless:{defaultValue:{value:"false"},description:"When true, renders tokens as without a background.",name:"isBorderless",required:!1,type:{name:"boolean"}},onMouseEnter:{defaultValue:null,description:"Function to call when onMouseEnter event triggered on token.",name:"onMouseEnter",required:!1,type:{name:"MouseEventHandler<HTMLSpanElement>"}},onMouseLeave:{defaultValue:null,description:"Function to call when onMouseLeave is triggered on token.",name:"onMouseLeave",required:!1,type:{name:"MouseEventHandler<HTMLSpanElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/form-token-field/token.tsx#token"]={docgenInfo:token.__docgenInfo,name:"token",path:"packages/components/src/form-token-field/token.tsx#token"})}catch(__react_docgen_typescript_loader_error){}var token_input=__webpack_require__("./packages/components/src/form-token-field/token-input.tsx"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),flex_component=__webpack_require__("./packages/components/src/flex/flex/component.tsx"),space=__webpack_require__("./packages/components/src/ui/utils/space.ts");const deprecatedPaddings=_ref=>{let{__next36pxDefaultSize:__next36pxDefaultSize,hasTokens:hasTokens}=_ref;return!__next36pxDefaultSize&&(0,emotion_react_browser_esm.iv)("padding-top:",(0,space.D)(hasTokens?1:.5),";padding-bottom:",(0,space.D)(hasTokens?1:.5),";","")},TokensAndInputWrapperFlex=(0,emotion_styled_base_browser_esm.Z)(flex_component.Z,{target:"ehq8nmi0"})("padding:5px ",(0,space.D)(1),";",deprecatedPaddings,";");var suggestions_list=__webpack_require__("./packages/components/src/form-token-field/suggestions-list.tsx"),flex_item_component=__webpack_require__("./packages/components/src/flex/flex-item/component.tsx"),base_control_styles=__webpack_require__("./packages/components/src/base-control/styles/base-control-styles.ts");const identity=value=>value;function FormTokenField(props){const{autoCapitalize:autoCapitalize,autoComplete:autoComplete,maxLength:maxLength,placeholder:placeholder,label:label=(0,build_module.__)("Add item"),className:className,suggestions:suggestions=[],maxSuggestions:maxSuggestions=100,value:value=[],displayTransform:displayTransform=identity,saveTransform:saveTransform=(token=>token.trim()),onChange:onChange=(()=>{}),onInputChange:onInputChange=(()=>{}),onFocus:onFocus,isBorderless:isBorderless=!1,disabled:disabled=!1,tokenizeOnSpace:tokenizeOnSpace=!1,messages:messages={added:(0,build_module.__)("Item added."),removed:(0,build_module.__)("Item removed."),remove:(0,build_module.__)("Remove item"),__experimentalInvalid:(0,build_module.__)("Invalid item")},__experimentalRenderItem:__experimentalRenderItem,__experimentalExpandOnFocus:__experimentalExpandOnFocus=!1,__experimentalValidateInput:__experimentalValidateInput=(()=>!0),__experimentalShowHowTo:__experimentalShowHowTo=!0,__next36pxDefaultSize:__next36pxDefaultSize=!1,__experimentalAutoSelectFirstMatch:__experimentalAutoSelectFirstMatch=!1}=props,instanceId=(0,use_instance_id.Z)(FormTokenField),[incompleteTokenValue,setIncompleteTokenValue]=(0,react.useState)(""),[inputOffsetFromEnd,setInputOffsetFromEnd]=(0,react.useState)(0),[isActive,setIsActive]=(0,react.useState)(!1),[isExpanded,setIsExpanded]=(0,react.useState)(!1),[selectedSuggestionIndex,setSelectedSuggestionIndex]=(0,react.useState)(-1),[selectedSuggestionScroll,setSelectedSuggestionScroll]=(0,react.useState)(!1),prevSuggestions=(0,use_previous.Z)(suggestions),prevValue=(0,use_previous.Z)(value),input=(0,react.useRef)(null),tokensAndInput=(0,react.useRef)(null),debouncedSpeak=(0,use_debounce.Z)(a11y_build_module.D,500);function focus(){var _input$current;null===(_input$current=input.current)||void 0===_input$current||_input$current.focus()}function hasFocus(){var _input$current2;return input.current===(null===(_input$current2=input.current)||void 0===_input$current2?void 0:_input$current2.ownerDocument.activeElement)}function onBlur(){inputHasValidValue()?setIsActive(!1):(setIncompleteTokenValue(""),setInputOffsetFromEnd(0),setIsActive(!1),setIsExpanded(!1),setSelectedSuggestionIndex(-1),setSelectedSuggestionScroll(!1))}function onContainerTouched(event){event.target===tokensAndInput.current&&isActive&&event.preventDefault()}function onTokenClickRemove(event){deleteToken(event.value),focus()}function onInputChangeHandler(event){const text=event.value,separator=tokenizeOnSpace?/[ ,\t]+/:/[,\t]+/,items=text.split(separator),tokenValue=items[items.length-1]||"";items.length>1&&addNewTokens(items.slice(0,-1)),setIncompleteTokenValue(tokenValue),onInputChange(tokenValue)}function handleDeleteKey(_deleteToken){let preventDefault=!1;return hasFocus()&&isInputEmpty()&&(_deleteToken(),preventDefault=!0),preventDefault}function deleteTokenBeforeInput(){const index=getIndexOfInput()-1;index>-1&&deleteToken(value[index])}function deleteTokenAfterInput(){const index=getIndexOfInput();index<value.length&&(deleteToken(value[index]),function moveInputToIndex(index){setInputOffsetFromEnd(value.length-Math.max(index,-1)-1)}(index))}function addCurrentToken(){let preventDefault=!1;const selectedSuggestion=function getSelectedSuggestion(){if(-1!==selectedSuggestionIndex)return getMatchingSuggestions()[selectedSuggestionIndex];return}();return selectedSuggestion?(addNewToken(selectedSuggestion),preventDefault=!0):inputHasValidValue()&&(addNewToken(incompleteTokenValue),preventDefault=!0),preventDefault}function addNewTokens(tokens){const tokensToAdd=[...new Set(tokens.map(saveTransform).filter(Boolean).filter((token=>!function valueContainsToken(token){return value.some((item=>getTokenValue(token)===getTokenValue(item)))}(token))))];if(tokensToAdd.length>0){const newValue=[...value];newValue.splice(getIndexOfInput(),0,...tokensToAdd),onChange(newValue)}}function addNewToken(token){__experimentalValidateInput(token)?(addNewTokens([token]),(0,a11y_build_module.D)(messages.added,"assertive"),setIncompleteTokenValue(""),setSelectedSuggestionIndex(-1),setSelectedSuggestionScroll(!1),setIsExpanded(!__experimentalExpandOnFocus),isActive&&focus()):(0,a11y_build_module.D)(messages.__experimentalInvalid,"assertive")}function deleteToken(token){const newTokens=value.filter((item=>getTokenValue(item)!==getTokenValue(token)));onChange(newTokens),(0,a11y_build_module.D)(messages.removed,"assertive")}function getTokenValue(token){return"object"==typeof token?token.value:token}function getMatchingSuggestions(){let searchValue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:incompleteTokenValue,_suggestions=arguments.length>1&&void 0!==arguments[1]?arguments[1]:suggestions,_value=arguments.length>2&&void 0!==arguments[2]?arguments[2]:value,_maxSuggestions=arguments.length>3&&void 0!==arguments[3]?arguments[3]:maxSuggestions,_saveTransform=arguments.length>4&&void 0!==arguments[4]?arguments[4]:saveTransform,match=_saveTransform(searchValue);const startsWithMatch=[],containsMatch=[],normalizedValue=_value.map((item=>"string"==typeof item?item:item.value));return 0===match.length?_suggestions=_suggestions.filter((suggestion=>!normalizedValue.includes(suggestion))):(match=match.toLocaleLowerCase(),_suggestions.forEach((suggestion=>{const index=suggestion.toLocaleLowerCase().indexOf(match);-1===normalizedValue.indexOf(suggestion)&&(0===index?startsWithMatch.push(suggestion):index>0&&containsMatch.push(suggestion))})),_suggestions=startsWithMatch.concat(containsMatch)),_suggestions.slice(0,_maxSuggestions)}function getIndexOfInput(){return value.length-inputOffsetFromEnd}function isInputEmpty(){return 0===incompleteTokenValue.length}function inputHasValidValue(){return saveTransform(incompleteTokenValue).length>0}function updateSuggestions(){let resetSelectedSuggestion=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const inputHasMinimumChars=incompleteTokenValue.trim().length>1,matchingSuggestions=getMatchingSuggestions(incompleteTokenValue),hasMatchingSuggestions=matchingSuggestions.length>0,shouldExpandIfFocuses=hasFocus()&&__experimentalExpandOnFocus;if(setIsExpanded(shouldExpandIfFocuses||inputHasMinimumChars&&hasMatchingSuggestions),resetSelectedSuggestion&&(__experimentalAutoSelectFirstMatch&&inputHasMinimumChars&&hasMatchingSuggestions?(setSelectedSuggestionIndex(0),setSelectedSuggestionScroll(!0)):(setSelectedSuggestionIndex(-1),setSelectedSuggestionScroll(!1))),inputHasMinimumChars){const message=hasMatchingSuggestions?(0,build_module.gB)((0,build_module._n)("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",matchingSuggestions.length),matchingSuggestions.length):(0,build_module.__)("No results.");debouncedSpeak(message,"assertive")}}function renderToken(token,index,tokens){const _value=getTokenValue(token),status="string"!=typeof token?token.status:void 0,termPosition=index+1,termsCount=tokens.length;return(0,jsx_runtime.jsx)(flex_item_component.Z,{children:(0,jsx_runtime.jsx)(Token,{value:_value,status:status,title:"string"!=typeof token?token.title:void 0,displayTransform:displayTransform,onClickRemove:onTokenClickRemove,isBorderless:"string"!=typeof token&&token.isBorderless||isBorderless,onMouseEnter:"string"!=typeof token?token.onMouseEnter:void 0,onMouseLeave:"string"!=typeof token?token.onMouseLeave:void 0,disabled:"error"!==status&&disabled,messages:messages,termsCount:termsCount,termPosition:termPosition})},"token-"+_value)}(0,react.useEffect)((()=>{isActive&&!hasFocus()&&focus()}),[isActive]),(0,react.useEffect)((()=>{const suggestionsDidUpdate=!(0,is_shallow_equal_build_module.ZP)(suggestions,prevSuggestions||[]);(suggestionsDidUpdate||value!==prevValue)&&updateSuggestions(suggestionsDidUpdate)}),[suggestions,prevSuggestions,value,prevValue]),(0,react.useEffect)((()=>{updateSuggestions()}),[incompleteTokenValue]),(0,react.useEffect)((()=>{updateSuggestions()}),[__experimentalAutoSelectFirstMatch]),disabled&&isActive&&(setIsActive(!1),setIncompleteTokenValue(""));const classes=classnames_default()(className,"components-form-token-field__input-container",{"is-active":isActive,"is-disabled":disabled});let tokenFieldProps={className:"components-form-token-field",tabIndex:-1};const matchingSuggestions=getMatchingSuggestions();return disabled||(tokenFieldProps=Object.assign({},tokenFieldProps,{onKeyDown:function onKeyDown(event){let preventDefault=!1;if(!event.defaultPrevented&&!event.nativeEvent.isComposing&&229!==event.keyCode){switch(event.key){case"Backspace":preventDefault=handleDeleteKey(deleteTokenBeforeInput);break;case"Enter":preventDefault=addCurrentToken();break;case"ArrowLeft":preventDefault=function handleLeftArrowKey(){let preventDefault=!1;return isInputEmpty()&&(function moveInputBeforePreviousToken(){setInputOffsetFromEnd((prevInputOffsetFromEnd=>Math.min(prevInputOffsetFromEnd+1,value.length)))}(),preventDefault=!0),preventDefault}();break;case"ArrowUp":preventDefault=function handleUpArrowKey(){return setSelectedSuggestionIndex((index=>(0===index?getMatchingSuggestions(incompleteTokenValue,suggestions,value,maxSuggestions,saveTransform).length:index)-1)),setSelectedSuggestionScroll(!0),!0}();break;case"ArrowRight":preventDefault=function handleRightArrowKey(){let preventDefault=!1;return isInputEmpty()&&(function moveInputAfterNextToken(){setInputOffsetFromEnd((prevInputOffsetFromEnd=>Math.max(prevInputOffsetFromEnd-1,0)))}(),preventDefault=!0),preventDefault}();break;case"ArrowDown":preventDefault=function handleDownArrowKey(){return setSelectedSuggestionIndex((index=>(index+1)%getMatchingSuggestions(incompleteTokenValue,suggestions,value,maxSuggestions,saveTransform).length)),setSelectedSuggestionScroll(!0),!0}();break;case"Delete":preventDefault=handleDeleteKey(deleteTokenAfterInput);break;case"Space":tokenizeOnSpace&&(preventDefault=addCurrentToken());break;case"Escape":preventDefault=function handleEscapeKey(event){return event.target instanceof HTMLInputElement&&(setIncompleteTokenValue(event.target.value),setIsExpanded(!1),setSelectedSuggestionIndex(-1),setSelectedSuggestionScroll(!1)),!0}(event)}preventDefault&&event.preventDefault()}},onKeyPress:function onKeyPress(event){let preventDefault=!1;","===event.key&&(preventDefault=function handleCommaKey(){return inputHasValidValue()&&addNewToken(incompleteTokenValue),!0}());preventDefault&&event.preventDefault()},onFocus:function onFocusHandler(event){hasFocus()||event.target===tokensAndInput.current?(setIsActive(!0),setIsExpanded(__experimentalExpandOnFocus||isExpanded)):setIsActive(!1),"function"==typeof onFocus&&onFocus(event)}})),(0,jsx_runtime.jsxs)("div",{...tokenFieldProps,children:[(0,jsx_runtime.jsx)(base_control_styles.ar,{htmlFor:`components-form-token-input-${instanceId}`,className:"components-form-token-field__label",children:label}),(0,jsx_runtime.jsxs)("div",{ref:tokensAndInput,className:classes,tabIndex:-1,onMouseDown:onContainerTouched,onTouchStart:onContainerTouched,children:[(0,jsx_runtime.jsx)(TokensAndInputWrapperFlex,{justify:"flex-start",align:"center",gap:1,wrap:!0,__next36pxDefaultSize:__next36pxDefaultSize,hasTokens:!!value.length,children:function renderTokensAndInput(){const components=value.map(renderToken);return components.splice(getIndexOfInput(),0,function renderInput(){const inputProps={instanceId:instanceId,autoCapitalize:autoCapitalize,autoComplete:autoComplete,placeholder:0===value.length?placeholder:"",key:"input",disabled:disabled,value:incompleteTokenValue,onBlur:onBlur,isExpanded:isExpanded,selectedSuggestionIndex:selectedSuggestionIndex};return(0,jsx_runtime.jsx)(token_input.ZP,{...inputProps,onChange:maxLength&&value.length>=maxLength?void 0:onInputChangeHandler,ref:input})}()),components}()}),isExpanded&&(0,jsx_runtime.jsx)(suggestions_list.Z,{instanceId:instanceId,match:saveTransform(incompleteTokenValue),displayTransform:displayTransform,suggestions:matchingSuggestions,selectedIndex:selectedSuggestionIndex,scrollIntoView:selectedSuggestionScroll,onHover:function onSuggestionHovered(suggestion){const index=getMatchingSuggestions().indexOf(suggestion);index>=0&&(setSelectedSuggestionIndex(index),setSelectedSuggestionScroll(!1))},onSelect:function onSuggestionSelected(suggestion){addNewToken(suggestion)},__experimentalRenderItem:__experimentalRenderItem})]}),__experimentalShowHowTo&&(0,jsx_runtime.jsx)("p",{id:`components-form-token-suggestions-howto-${instanceId}`,className:"components-form-token-field__help",children:tokenizeOnSpace?(0,build_module.__)("Separate with commas, spaces, or the Enter key."):(0,build_module.__)("Separate with commas or the Enter key.")})]})}FormTokenField.displayName="FormTokenField";var form_token_field=FormTokenField;try{FormTokenField.displayName="FormTokenField",FormTokenField.__docgenInfo={description:'A `FormTokenField` is a field similar to the tags and categories fields in the interim editor chrome,\nor the "to" field in Mail on OS X. Tokens can be entered by typing them or selecting them from a list of suggested tokens.\n\nUp to one hundred suggestions that match what the user has typed so far will be shown from which the user can pick from (auto-complete).\nTokens are separated by the "," character. Suggestions can be selected with the up or down arrows and added with the tab or enter key.\n\nThe `value` property is handled in a manner similar to controlled form components.\nSee [Forms](http://facebook.github.io/react/docs/forms.html) in the React Documentation for more information.',displayName:"FormTokenField",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},suggestions:{defaultValue:null,description:"An array of strings to present to the user as suggested tokens.",name:"suggestions",required:!1,type:{name:"string[]"}},maxSuggestions:{defaultValue:{value:"100"},description:"The maximum number of suggestions to display at a time.",name:"maxSuggestions",required:!1,type:{name:"number"}},value:{defaultValue:null,description:"An array of strings or objects to display as tokens in the field.\nIf objects are present in the array, they **must** have a property of `value`.",name:"value",required:!1,type:{name:"(string | TokenItem)[]"}},displayTransform:{defaultValue:null,description:"Function to call to transform tokens for display.\n(In the editor, this is needed to decode HTML entities embedded in tags\n- otherwise entities like `&` in tag names are double-encoded like `&amp;`,\nonce by the REST API and once by React).",name:"displayTransform",required:!1,type:{name:"(token: string) => string"}},saveTransform:{defaultValue:{value:"( token: string ) => token.trim()"},description:"Function to call to transform tokens for saving. The default is to trim the token value.\nThis function is also applied when matching suggestions against the current value\nso that matching works correctly with leading or trailing spaces. (In the editor,\nthis is needed to remove leading and trailing spaces from tag names, like wp-admin does.\nOtherwise the REST API won't save them.)",name:"saveTransform",required:!1,type:{name:"(token: string) => string"}},onChange:{defaultValue:null,description:"Function to call when the tokens have changed. An array of new tokens is passed to the callback.",name:"onChange",required:!1,type:{name:"(tokens: (string | TokenItem)[]) => void"}},onInputChange:{defaultValue:null,description:"Function to call when the users types in the input field. It can be used to trigger autocomplete requests.",name:"onInputChange",required:!1,type:{name:"(input: string) => void"}},onFocus:{defaultValue:null,description:"Function to call when the TokenField has been focused on. The event is passed to the callback. Useful for analytics.",name:"onFocus",required:!1,type:{name:"(event: FocusEvent) => void"}},isBorderless:{defaultValue:null,description:"When true, renders tokens as without a background.",name:"isBorderless",required:!1,type:{name:"boolean"}},maxLength:{defaultValue:null,description:"If passed, `TokenField` will disable ability to add new tokens once number of tokens is greater than or equal to `maxLength`.",name:"maxLength",required:!1,type:{name:"number"}},disabled:{defaultValue:null,description:"When true, tokens are not able to be added or removed.",name:"disabled",required:!1,type:{name:"boolean"}},placeholder:{defaultValue:null,description:"If passed, the `TokenField` input will show a placeholder string if no value tokens are present.",name:"placeholder",required:!1,type:{name:"string"}},tokenizeOnSpace:{defaultValue:null,description:"If true, will add a token when `TokenField` is focused and `space` is pressed.",name:"tokenizeOnSpace",required:!1,type:{name:"boolean"}},messages:{defaultValue:null,description:"Allows customizing the messages presented by screen readers in different occasions:\n\n-   `added`: The user added a new token.\n-   `removed`: The user removed an existing token.\n-   `remove` : The user focused the button to remove the token.\n-   `__experimentalInvalid`: The user tried to add a token that didn't pass the validation.",name:"messages",required:!1,type:{name:"Messages"}},__experimentalExpandOnFocus:{defaultValue:null,description:"If true, the suggestions list will be always expanded when the input field has the focus.",name:"__experimentalExpandOnFocus",required:!1,type:{name:"boolean"}},__experimentalValidateInput:{defaultValue:{value:"() => true"},description:"If passed, all introduced values will be validated before being added as tokens.",name:"__experimentalValidateInput",required:!1,type:{name:"(token: string) => boolean"}},__experimentalShowHowTo:{defaultValue:{value:"true"},description:"If false, the text on how to use the select (ie: _Separate with commas or the Enter key._) will be hidden.",name:"__experimentalShowHowTo",required:!1,type:{name:"boolean"}},__next36pxDefaultSize:{defaultValue:{value:"false"},description:"Start opting into the larger default height that will become the\ndefault size in a future version.",name:"__next36pxDefaultSize",required:!1,type:{name:"boolean"}},__experimentalAutoSelectFirstMatch:{defaultValue:{value:"false"},description:"If true, the select the first matching suggestion when the user presses\nthe Enter key (or space when tokenizeOnSpace is true).",name:"__experimentalAutoSelectFirstMatch",required:!1,type:{name:"boolean"}},__experimentalRenderItem:{defaultValue:null,description:"Custom renderer for suggestions.",name:"__experimentalRenderItem",required:!1,type:{name:"(args: { item: string; }) => ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/form-token-field/index.tsx#FormTokenField"]={docgenInfo:FormTokenField.__docgenInfo,name:"FormTokenField",path:"packages/components/src/form-token-field/index.tsx#FormTokenField"})}catch(__react_docgen_typescript_loader_error){}var stories={component:form_token_field,title:"Components/FormTokenField",argTypes:{value:{control:{type:null}},__experimentalValidateInput:{control:{type:null}}},parameters:{sourceLink:"packages/components/src/form-token-field",controls:{expanded:!0},docs:{source:{state:"open"}}}};const continents=["Africa","America","Antarctica","Asia","Europe","Oceania"],DefaultTemplate=_ref=>{let{...args}=_ref;const[selectedContinents,setSelectedContinents]=(0,react.useState)([]);return(0,jsx_runtime.jsx)(form_token_field,{...args,value:selectedContinents,onChange:tokens=>setSelectedContinents(tokens)})};DefaultTemplate.displayName="DefaultTemplate";const Default=DefaultTemplate.bind({});Default.args={label:"Type a continent",suggestions:continents};const Async=_ref2=>{let{suggestions:suggestions,...args}=_ref2;const[selectedContinents,setSelectedContinents]=(0,react.useState)([]),[availableContinents,setAvailableContinents]=(0,react.useState)([]);return(0,jsx_runtime.jsx)(form_token_field,{...args,value:selectedContinents,suggestions:availableContinents,onChange:tokens=>setSelectedContinents(tokens),onInputChange:input=>{const timeout=setTimeout((()=>{const available=(suggestions||[]).filter((continent=>continent.toLowerCase().includes(input.toLowerCase())));setAvailableContinents(available)}),1e3);return()=>clearTimeout(timeout)}})};Async.displayName="Async",Async.args={label:"Type a continent",suggestions:continents};const DropdownSelector=DefaultTemplate.bind({});DropdownSelector.args={...Default.args,__experimentalExpandOnFocus:!0,__experimentalAutoSelectFirstMatch:!0};const WithCustomRenderItem=DefaultTemplate.bind({});WithCustomRenderItem.args={...Default.args,__experimentalRenderItem:_ref3=>{let{item:item}=_ref3;return(0,jsx_runtime.jsx)("div",{children:`${item} â a nice place to visit`})}},WithCustomRenderItem.parameters??={},WithCustomRenderItem.parameters.docs??={},WithCustomRenderItem.parameters.docs.description??={},WithCustomRenderItem.parameters.docs.description.story??="The rendered output of each suggestion can be customized by passing a\nrender function to the `__experimentalRenderItem` prop. (This is still an experimental feature\nand is subject to change.)";try{ComponentMeta.displayName="ComponentMeta",ComponentMeta.__docgenInfo={description:"For the common case where a component's stories are simple components that receives args as props:\n\n```tsx\nexport default { ... } as ComponentMeta<typeof Button>;\n```",displayName:"ComponentMeta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/form-token-field/stories/index.tsx#ComponentMeta"]={docgenInfo:ComponentMeta.__docgenInfo,name:"ComponentMeta",path:"packages/components/src/form-token-field/stories/index.tsx#ComponentMeta"})}catch(__react_docgen_typescript_loader_error){}try{WithCustomRenderItem.displayName="WithCustomRenderItem",WithCustomRenderItem.__docgenInfo={description:"The rendered output of each suggestion can be customized by passing a\nrender function to the `__experimentalRenderItem` prop. (This is still an experimental feature\nand is subject to change.)",displayName:"WithCustomRenderItem",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/form-token-field/stories/index.tsx#WithCustomRenderItem"]={docgenInfo:WithCustomRenderItem.__docgenInfo,name:"WithCustomRenderItem",path:"packages/components/src/form-token-field/stories/index.tsx#WithCustomRenderItem"})}catch(__react_docgen_typescript_loader_error){}}}]);