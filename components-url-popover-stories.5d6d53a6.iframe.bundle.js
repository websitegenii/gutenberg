"use strict";(self.webpackChunkgutenberg=self.webpackChunkgutenberg||[]).push([[3030],{"./packages/components/build-module/external-link/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return external_link}});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),external=__webpack_require__("./packages/icons/build-module/library/external.js"),component=__webpack_require__("./packages/components/build-module/visually-hidden/component.js"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),icon=__webpack_require__("./packages/icons/build-module/icon/index.js");const StyledIcon=(0,emotion_styled_base_browser_esm.Z)(icon.Z,{target:"esh4a730"})({name:"rvs7bx",styles:"width:1em;height:1em;margin:0;vertical-align:middle;fill:currentColor"});var external_link=(0,react.forwardRef)((function UnforwardedExternalLink(props,ref){const{href:href,children:children,className:className,rel:rel="",...additionalProps}=props,optimizedRel=[...new Set([...rel.split(" "),"external","noreferrer","noopener"].filter(Boolean))].join(" "),classes=classnames_default()("components-external-link",className),isInternalAnchor=!(null==href||!href.startsWith("#"));return(0,react.createElement)("a",(0,esm_extends.Z)({},additionalProps,{className:classes,href:href,onClick:event=>{isInternalAnchor&&event.preventDefault(),props.onClick&&props.onClick(event)},target:"_blank",rel:optimizedRel,ref:ref}),children,(0,react.createElement)(component.Z,{as:"span"},(0,build_module.__)("(opens in a new tab)")),(0,react.createElement)(StyledIcon,{icon:external.Z,className:"components-external-link__icon"}))}))},"./packages/components/build-module/flex/flex-block/component.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return flex_block_component}});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/react/index.js"),context_connect=__webpack_require__("./packages/components/build-module/ui/context/context-connect.js"),component=__webpack_require__("./packages/components/build-module/view/component.js"),use_context_system=__webpack_require__("./packages/components/build-module/ui/context/use-context-system.js"),hook=__webpack_require__("./packages/components/build-module/flex/flex-item/hook.js");var flex_block_component=(0,context_connect.Iq)((function UnconnectedFlexBlock(props,forwardedRef){const flexBlockProps=function useFlexBlock(props){const otherProps=(0,use_context_system.y)(props,"FlexBlock");return(0,hook.i)({isBlock:!0,...otherProps})}(props);return(0,react.createElement)(component.Z,(0,esm_extends.Z)({},flexBlockProps,{ref:forwardedRef}))}),"FlexBlock")},"./packages/components/build-module/h-stack/component.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_ui_context__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/components/build-module/ui/context/context-connect.js"),_view__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/components/build-module/view/component.js"),_hook__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/components/build-module/h-stack/hook.js");const HStack=(0,_ui_context__WEBPACK_IMPORTED_MODULE_4__.Iq)((function UnconnectedHStack(props,forwardedRef){const hStackProps=(0,_hook__WEBPACK_IMPORTED_MODULE_0__.R)(props);return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(_view__WEBPACK_IMPORTED_MODULE_2__.Z,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__.Z)({},hStackProps,{ref:forwardedRef}))}),"HStack");__webpack_exports__.Z=HStack},"./packages/components/build-module/h-stack/hook.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{R:function(){return useHStack}});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/react/index.js"),use_context_system=__webpack_require__("./packages/components/build-module/ui/context/use-context-system.js"),context_connect=__webpack_require__("./packages/components/build-module/ui/context/context-connect.js"),component=__webpack_require__("./packages/components/build-module/flex/flex-item/component.js"),hook=__webpack_require__("./packages/components/build-module/flex/flex/hook.js"),values=__webpack_require__("./packages/components/build-module/utils/values.js");const H_ALIGNMENTS={bottom:{align:"flex-end",justify:"center"},bottomLeft:{align:"flex-start",justify:"flex-end"},bottomRight:{align:"flex-end",justify:"flex-end"},center:{align:"center",justify:"center"},edge:{align:"center",justify:"space-between"},left:{align:"center",justify:"flex-start"},right:{align:"center",justify:"flex-end"},stretch:{align:"stretch"},top:{align:"flex-start",justify:"center"},topLeft:{align:"flex-start",justify:"flex-start"},topRight:{align:"flex-start",justify:"flex-end"}},V_ALIGNMENTS={bottom:{justify:"flex-end",align:"center"},bottomLeft:{justify:"flex-start",align:"flex-end"},bottomRight:{justify:"flex-end",align:"flex-end"},center:{justify:"center",align:"center"},edge:{justify:"space-between",align:"center"},left:{justify:"center",align:"flex-start"},right:{justify:"center",align:"flex-end"},stretch:{justify:"stretch"},top:{justify:"flex-start",align:"center"},topLeft:{justify:"flex-start",align:"flex-start"},topRight:{justify:"flex-start",align:"flex-end"}};function useHStack(props){const{alignment:alignment="edge",children:children,direction:direction,spacing:spacing=2,...otherProps}=(0,use_context_system.y)(props,"HStack"),align=function getAlignmentProps(alignment){let direction=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"row";if(!(0,values.Jf)(alignment))return{};const props="column"===direction?V_ALIGNMENTS:H_ALIGNMENTS;return alignment in props?props[alignment]:{align:alignment}}(alignment,direction),validChildren=function getValidChildren(children){return"string"==typeof children?[children]:react.Children.toArray(children).filter((child=>(0,react.isValidElement)(child)))}(children),propsForFlex={children:validChildren.map(((child,index)=>{if((0,context_connect.H)(child,["Spacer"])){const childElement=child,_key=childElement.key||`hstack-${index}`;return(0,react.createElement)(component.Z,(0,esm_extends.Z)({isBlock:!0,key:_key},childElement.props))}return child})),direction:direction,justify:"center",...align,...otherProps,gap:spacing};return(0,hook.k)(propsForFlex)}},"./packages/components/build-module/higher-order/with-spoken-messages/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/compose/build-module/utils/create-higher-order-component/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/compose/build-module/hooks/use-debounce/index.js"),_wordpress_a11y__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/a11y/build-module/index.js");__webpack_exports__.Z=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_1__.o)((Component=>props=>(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)(Component,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__.Z)({},props,{speak:_wordpress_a11y__WEBPACK_IMPORTED_MODULE_0__.D,debouncedSpeak:(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__.Z)(_wordpress_a11y__WEBPACK_IMPORTED_MODULE_0__.D,500)}))),"withSpokenMessages")},"./packages/components/build-module/spinner/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{ZP:function(){return spinner}});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),config_values=__webpack_require__("./packages/components/build-module/utils/config-values.js"),colors_values=__webpack_require__("./packages/components/build-module/utils/colors-values.js");const spinAnimation=emotion_react_browser_esm.F4`
	from {
		transform: rotate(0deg);
	}
	to {
		transform: rotate(360deg);
	}
 `,StyledSpinner=(0,emotion_styled_base_browser_esm.Z)("svg",{target:"ea4tfvq2"})("width:",config_values.Z.spinnerSize,"px;height:",config_values.Z.spinnerSize,"px;display:inline-block;margin:5px 11px 0;position:relative;color:",colors_values.D.ui.theme,";overflow:visible;"),commonPathProps={name:"9s4963",styles:"fill:transparent;stroke-width:1.5px"},SpinnerTrack=(0,emotion_styled_base_browser_esm.Z)("circle",{target:"ea4tfvq1"})(commonPathProps,";stroke:",colors_values.D.gray[300],";"),SpinnerIndicator=(0,emotion_styled_base_browser_esm.Z)("path",{target:"ea4tfvq0"})(commonPathProps,";stroke:currentColor;stroke-linecap:round;transform-origin:50% 50%;animation:1.4s linear infinite both ",spinAnimation,";");var spinner=(0,react.forwardRef)((function UnforwardedSpinner(_ref,forwardedRef){let{className:className,...props}=_ref;return(0,react.createElement)(StyledSpinner,(0,esm_extends.Z)({className:classnames_default()("components-spinner",className),viewBox:"0 0 100 100",width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",role:"presentation",focusable:"false"},props,{ref:forwardedRef}),(0,react.createElement)(SpinnerTrack,{cx:"50",cy:"50",r:"50",vectorEffect:"non-scaling-stroke"}),(0,react.createElement)(SpinnerIndicator,{d:"m 50 0 a 50 50 0 0 1 50 50",vectorEffect:"non-scaling-stroke"}))}))},"./packages/components/build-module/toggle-control/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return toggle_control}});var react=__webpack_require__("./node_modules/react/index.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),use_instance_id=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),component=__webpack_require__("./packages/components/build-module/flex/flex-block/component.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames);const noop=()=>{};var form_toggle=function FormToggle(props){const{className:className,checked:checked,id:id,disabled:disabled,onChange:onChange=noop,...additionalProps}=props,wrapperClasses=classnames_default()("components-form-toggle",className,{"is-checked":checked,"is-disabled":disabled});return(0,react.createElement)("span",{className:wrapperClasses},(0,react.createElement)("input",(0,esm_extends.Z)({className:"components-form-toggle__input",id:id,type:"checkbox",checked:checked,onChange:onChange,disabled:disabled},additionalProps)),(0,react.createElement)("span",{className:"components-form-toggle__track"}),(0,react.createElement)("span",{className:"components-form-toggle__thumb"}))},base_control=__webpack_require__("./packages/components/build-module/base-control/index.js"),h_stack_component=__webpack_require__("./packages/components/build-module/h-stack/component.js"),use_cx=__webpack_require__("./packages/components/build-module/utils/hooks/use-cx.js"),space=__webpack_require__("./packages/components/build-module/ui/utils/space.js");var toggle_control=function ToggleControl(_ref){let{__nextHasNoMarginBottom:__nextHasNoMarginBottom,label:label,checked:checked,help:help,className:className,onChange:onChange,disabled:disabled}=_ref;const id=`inspector-toggle-control-${(0,use_instance_id.Z)(ToggleControl)}`,classes=(0,use_cx.I)()("components-toggle-control",className,!__nextHasNoMarginBottom&&(0,emotion_react_browser_esm.iv)({marginBottom:(0,space.D)(3)},"","","",""));let describedBy,helpLabel;return help&&("function"==typeof help?void 0!==checked&&(helpLabel=help(checked)):helpLabel=help,helpLabel&&(describedBy=id+"__help")),(0,react.createElement)(base_control.ZP,{id:id,help:helpLabel,className:classes,__nextHasNoMarginBottom:!0},(0,react.createElement)(h_stack_component.Z,{justify:"flex-start",spacing:3},(0,react.createElement)(form_toggle,{id:id,checked:checked,onChange:function onChangeToggle(event){onChange(event.target.checked)},"aria-describedby":describedBy,disabled:disabled}),(0,react.createElement)(component.Z,{as:"label",htmlFor:id,className:"components-toggle-control__label"},label)))}},"./packages/components/build-module/utils/config-values.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _ui_utils_space__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/components/build-module/ui/utils/space.js"),_colors_values__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/components/build-module/utils/colors-values.js");const CONTROL_PROPS={controlSurfaceColor:_colors_values__WEBPACK_IMPORTED_MODULE_0__.D.white,controlTextActiveColor:_colors_values__WEBPACK_IMPORTED_MODULE_0__.D.ui.theme,controlPaddingX:"12px",controlPaddingXLarge:"calc(12px * 1.3334)",controlPaddingXSmall:"calc(12px / 1.3334)",controlBackgroundColor:_colors_values__WEBPACK_IMPORTED_MODULE_0__.D.white,controlBorderRadius:"2px",controlBoxShadow:"transparent",controlBoxShadowFocus:`0 0 0 0.5px ${_colors_values__WEBPACK_IMPORTED_MODULE_0__.D.ui.theme}`,controlDestructiveBorderColor:_colors_values__WEBPACK_IMPORTED_MODULE_0__.D.alert.red,controlHeight:"36px",controlHeightXSmall:"calc( 36px * 0.6 )",controlHeightSmall:"calc( 36px * 0.8 )",controlHeightLarge:"calc( 36px * 1.2 )",controlHeightXLarge:"calc( 36px * 1.4 )"},TOGGLE_GROUP_CONTROL_PROPS={toggleGroupControlBackgroundColor:CONTROL_PROPS.controlBackgroundColor,toggleGroupControlBorderColor:_colors_values__WEBPACK_IMPORTED_MODULE_0__.D.ui.border,toggleGroupControlBackdropBackgroundColor:CONTROL_PROPS.controlSurfaceColor,toggleGroupControlBackdropBorderColor:_colors_values__WEBPACK_IMPORTED_MODULE_0__.D.ui.border,toggleGroupControlButtonColorActive:CONTROL_PROPS.controlBackgroundColor};__webpack_exports__.Z=Object.assign({},CONTROL_PROPS,TOGGLE_GROUP_CONTROL_PROPS,{colorDivider:"rgba(0, 0, 0, 0.1)",colorScrollbarThumb:"rgba(0, 0, 0, 0.2)",colorScrollbarThumbHover:"rgba(0, 0, 0, 0.5)",colorScrollbarTrack:"rgba(0, 0, 0, 0.04)",elevationIntensity:1,radiusBlockUi:"2px",borderWidth:"1px",borderWidthFocus:"1.5px",borderWidthTab:"4px",spinnerSize:16,fontSize:"13px",fontSizeH1:"calc(2.44 * 13px)",fontSizeH2:"calc(1.95 * 13px)",fontSizeH3:"calc(1.56 * 13px)",fontSizeH4:"calc(1.25 * 13px)",fontSizeH5:"13px",fontSizeH6:"calc(0.8 * 13px)",fontSizeInputMobile:"16px",fontSizeMobile:"15px",fontSizeSmall:"calc(0.92 * 13px)",fontSizeXSmall:"calc(0.75 * 13px)",fontLineHeightBase:"1.2",fontWeight:"normal",fontWeightHeading:"600",gridBase:"4px",cardBorderRadius:"2px",cardPaddingXSmall:`${(0,_ui_utils_space__WEBPACK_IMPORTED_MODULE_1__.D)(2)}`,cardPaddingSmall:`${(0,_ui_utils_space__WEBPACK_IMPORTED_MODULE_1__.D)(4)}`,cardPaddingMedium:`${(0,_ui_utils_space__WEBPACK_IMPORTED_MODULE_1__.D)(4)} ${(0,_ui_utils_space__WEBPACK_IMPORTED_MODULE_1__.D)(6)}`,cardPaddingLarge:`${(0,_ui_utils_space__WEBPACK_IMPORTED_MODULE_1__.D)(6)} ${(0,_ui_utils_space__WEBPACK_IMPORTED_MODULE_1__.D)(8)}`,surfaceBackgroundColor:_colors_values__WEBPACK_IMPORTED_MODULE_0__.D.white,surfaceBackgroundSubtleColor:"#F3F3F3",surfaceBackgroundTintColor:"#F5F5F5",surfaceBorderColor:"rgba(0, 0, 0, 0.1)",surfaceBorderBoldColor:"rgba(0, 0, 0, 0.15)",surfaceBorderSubtleColor:"rgba(0, 0, 0, 0.05)",surfaceBackgroundTertiaryColor:_colors_values__WEBPACK_IMPORTED_MODULE_0__.D.white,surfaceColor:_colors_values__WEBPACK_IMPORTED_MODULE_0__.D.white,transitionDuration:"200ms",transitionDurationFast:"160ms",transitionDurationFaster:"120ms",transitionDurationFastest:"100ms",transitionTimingFunction:"cubic-bezier(0.08, 0.52, 0.52, 1)",transitionTimingFunctionControl:"cubic-bezier(0.12, 0.8, 0.32, 1)"})},"./packages/components/build-module/utils/values.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function isValueDefined(value){return null!=value}function isValueEmpty(value){const isEmptyString=""===value;return!isValueDefined(value)||isEmptyString}function getDefinedValue(){var _values$find;let values=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],fallbackValue=arguments.length>1?arguments[1]:void 0;return null!==(_values$find=values.find(isValueDefined))&&void 0!==_values$find?_values$find:fallbackValue}__webpack_require__.d(__webpack_exports__,{Jf:function(){return isValueDefined},Wx:function(){return isValueEmpty},Me:function(){return getDefinedValue},q9:function(){return ensureNumber}});const ensureNumber=value=>"string"==typeof value?(value=>parseFloat(value))(value):value},"./packages/compose/build-module/higher-order/pure/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_wordpress_is_shallow_equal__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/is-shallow-equal/build-module/index.js");const pure=(0,__webpack_require__("./packages/compose/build-module/utils/create-higher-order-component/index.js").o)((function(WrappedComponent){return WrappedComponent.prototype instanceof _wordpress_element__WEBPACK_IMPORTED_MODULE_1__.Component?class extends WrappedComponent{shouldComponentUpdate(nextProps,nextState){return!(0,_wordpress_is_shallow_equal__WEBPACK_IMPORTED_MODULE_2__.ZP)(nextProps,this.props)||!(0,_wordpress_is_shallow_equal__WEBPACK_IMPORTED_MODULE_2__.ZP)(nextState,this.state)}}:class extends _wordpress_element__WEBPACK_IMPORTED_MODULE_1__.Component{shouldComponentUpdate(nextProps){return!(0,_wordpress_is_shallow_equal__WEBPACK_IMPORTED_MODULE_2__.ZP)(nextProps,this.props)}render(){return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(WrappedComponent,this.props)}}}),"pure");__webpack_exports__.Z=pure},"./packages/compose/build-module/higher-order/with-instance-id/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_utils_create_higher_order_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/compose/build-module/utils/create-higher-order-component/index.js"),_hooks_use_instance_id__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js");const withInstanceId=(0,_utils_create_higher_order_component__WEBPACK_IMPORTED_MODULE_0__.o)((WrappedComponent=>props=>{const instanceId=(0,_hooks_use_instance_id__WEBPACK_IMPORTED_MODULE_1__.Z)(WrappedComponent);return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createElement)(WrappedComponent,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__.Z)({},props,{instanceId:instanceId}))}),"instanceId");__webpack_exports__.Z=withInstanceId},"./packages/compose/build-module/higher-order/with-safe-timeout/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js");const withSafeTimeout=(0,__webpack_require__("./packages/compose/build-module/utils/create-higher-order-component/index.js").o)((OriginalComponent=>class WrappedComponent extends _wordpress_element__WEBPACK_IMPORTED_MODULE_1__.Component{constructor(props){super(props),this.timeouts=[],this.setTimeout=this.setTimeout.bind(this),this.clearTimeout=this.clearTimeout.bind(this)}componentWillUnmount(){this.timeouts.forEach(clearTimeout)}setTimeout(fn,delay){const id=setTimeout((()=>{fn(),this.clearTimeout(id)}),delay);return this.timeouts.push(id),id}clearTimeout(id){clearTimeout(id),this.timeouts=this.timeouts.filter((timeoutId=>timeoutId!==id))}render(){return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.createElement)(OriginalComponent,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__.Z)({},this.props,{setTimeout:this.setTimeout,clearTimeout:this.clearTimeout}))}}),"withSafeTimeout");__webpack_exports__.Z=withSafeTimeout},"./packages/compose/build-module/utils/create-higher-order-component/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{o:function(){return createHigherOrderComponent}});var change_case__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/pascal-case/dist.es2015/index.js");function createHigherOrderComponent(mapComponent,modifierName){return Inner=>{const Outer=mapComponent(Inner);return Outer.displayName=hocName(modifierName,Inner),Outer}}const hocName=(name,Inner)=>{const inner=Inner.displayName||Inner.name||"Component";return`${(0,change_case__WEBPACK_IMPORTED_MODULE_0__.Ho)(null!=name?name:"")}(${inner})`}},"./packages/data/build-module/components/with-select/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/compose/build-module/utils/create-higher-order-component/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/compose/build-module/higher-order/pure/index.js"),_use_select__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/data/build-module/components/use-select/index.js");__webpack_exports__.Z=mapSelectToProps=>(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_0__.o)((WrappedComponent=>(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_1__.Z)((ownProps=>{const mergeProps=(0,_use_select__WEBPACK_IMPORTED_MODULE_2__.Z)(((select,registry)=>mapSelectToProps(select,ownProps,registry)));return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.createElement)(WrappedComponent,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_4__.Z)({},ownProps,mergeProps))}))),"withSelect")},"./packages/icons/build-module/icon/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");__webpack_exports__.Z=function Icon(_ref){let{icon:icon,size:size=24,...props}=_ref;return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(icon,{width:size,height:size,...props})}},"./packages/icons/build-module/library/chevron-down.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const chevronDown=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}));__webpack_exports__.Z=chevronDown},"./packages/icons/build-module/library/edit.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return edit}});var react=__webpack_require__("./node_modules/react/index.js"),svg=__webpack_require__("./packages/primitives/build-module/svg/index.js");var edit=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z"}))},"./packages/icons/build-module/library/external.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const external=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M18.2 17c0 .7-.6 1.2-1.2 1.2H7c-.7 0-1.2-.6-1.2-1.2V7c0-.7.6-1.2 1.2-1.2h3.2V4.2H7C5.5 4.2 4.2 5.5 4.2 7v10c0 1.5 1.2 2.8 2.8 2.8h10c1.5 0 2.8-1.2 2.8-2.8v-3.6h-1.5V17zM14.9 3v1.5h3.7l-6.4 6.4 1.1 1.1 6.4-6.4v3.7h1.5V3h-6.3z"}));__webpack_exports__.Z=external},"./packages/icons/build-module/library/keyboard-return.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const keyboardReturn=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M6.734 16.106l2.176-2.38-1.093-1.028-3.846 4.158 3.846 4.157 1.093-1.027-2.176-2.38h2.811c1.125 0 2.25.03 3.374 0 1.428-.001 3.362-.25 4.963-1.277 1.66-1.065 2.868-2.906 2.868-5.859 0-2.479-1.327-4.896-3.65-5.93-1.82-.813-3.044-.8-4.806-.788l-.567.002v1.5c.184 0 .368 0 .553-.002 1.82-.007 2.704-.014 4.21.657 1.854.827 2.76 2.657 2.76 4.561 0 2.472-.973 3.824-2.178 4.596-1.258.807-2.864 1.04-4.163 1.04h-.02c-1.115.03-2.229 0-3.344 0H6.734z"}));__webpack_exports__.Z=keyboardReturn},"./packages/url/build-module/filter-url-for-display.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function filterURLForDisplay(url){let maxLength=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,filteredURL=url.replace(/^(?:https?:)\/\/(?:www\.)?/,"");filteredURL.match(/^[^\/]+\/$/)&&(filteredURL=filteredURL.replace("/",""));const mediaRegexp=/([\w|:])*\.(?:jpg|jpeg|gif|png|svg)/;if(!maxLength||filteredURL.length<=maxLength||!filteredURL.match(mediaRegexp))return filteredURL;filteredURL=filteredURL.split("?")[0];const urlPieces=filteredURL.split("/"),file=urlPieces[urlPieces.length-1];if(file.length<=maxLength)return"…"+filteredURL.slice(-maxLength);const index=file.lastIndexOf("."),[fileName,extension]=[file.slice(0,index),file.slice(index+1)],truncatedFile=fileName.slice(-3)+"."+extension;return file.slice(0,maxLength-truncatedFile.length-1)+"…"+truncatedFile}__webpack_require__.d(__webpack_exports__,{w:function(){return filterURLForDisplay}})},"./packages/url/build-module/is-url.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function isURL(url){try{return new URL(url),!0}catch{return!1}}__webpack_require__.d(__webpack_exports__,{P:function(){return isURL}})},"./packages/url/build-module/safe-decode-uri.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function safeDecodeURI(uri){try{return decodeURI(uri)}catch(uriError){return uri}}__webpack_require__.d(__webpack_exports__,{x:function(){return safeDecodeURI}})},"./node_modules/dom-scroll-into-view/lib/dom-scroll-into-view.js":function(module,__unused_webpack_exports,__webpack_require__){var util=__webpack_require__("./node_modules/dom-scroll-into-view/lib/util.js");module.exports=function scrollIntoView(elem,container,config){config=config||{},9===container.nodeType&&(container=util.getWindow(container));var allowHorizontalScroll=config.allowHorizontalScroll,onlyScrollIfNeeded=config.onlyScrollIfNeeded,alignWithTop=config.alignWithTop,alignWithLeft=config.alignWithLeft,offsetTop=config.offsetTop||0,offsetLeft=config.offsetLeft||0,offsetBottom=config.offsetBottom||0,offsetRight=config.offsetRight||0;allowHorizontalScroll=void 0===allowHorizontalScroll||allowHorizontalScroll;var isWin=util.isWindow(container),isFramed=!(!isWin||!container.frameElement),elemOffset=util.offset(elem),eh=util.outerHeight(elem),ew=util.outerWidth(elem),containerOffset=void 0,ch=void 0,cw=void 0,containerScroll=void 0,diffTop=void 0,diffBottom=void 0,win=void 0,winScroll=void 0,ww=void 0,wh=void 0;isFramed&&(container=container.document.scrollingElement||container.document.body),isWin||isFramed?(win=container,wh=util.height(win),ww=util.width(win),winScroll={left:util.scrollLeft(win),top:util.scrollTop(win)},diffTop={left:elemOffset.left-winScroll.left-offsetLeft,top:elemOffset.top-winScroll.top-offsetTop},diffBottom={left:elemOffset.left+ew-(winScroll.left+ww)+offsetRight,top:elemOffset.top+eh-(winScroll.top+wh)+offsetBottom},containerScroll=winScroll):(containerOffset=util.offset(container),ch=container.clientHeight,cw=container.clientWidth,containerScroll={left:container.scrollLeft,top:container.scrollTop},diffTop={left:elemOffset.left-(containerOffset.left+(parseFloat(util.css(container,"borderLeftWidth"))||0))-offsetLeft,top:elemOffset.top-(containerOffset.top+(parseFloat(util.css(container,"borderTopWidth"))||0))-offsetTop},diffBottom={left:elemOffset.left+ew-(containerOffset.left+cw+(parseFloat(util.css(container,"borderRightWidth"))||0))+offsetRight,top:elemOffset.top+eh-(containerOffset.top+ch+(parseFloat(util.css(container,"borderBottomWidth"))||0))+offsetBottom}),diffTop.top<0||diffBottom.top>0?!0===alignWithTop?util.scrollTop(container,containerScroll.top+diffTop.top):!1===alignWithTop?util.scrollTop(container,containerScroll.top+diffBottom.top):diffTop.top<0?util.scrollTop(container,containerScroll.top+diffTop.top):util.scrollTop(container,containerScroll.top+diffBottom.top):onlyScrollIfNeeded||((alignWithTop=void 0===alignWithTop||!!alignWithTop)?util.scrollTop(container,containerScroll.top+diffTop.top):util.scrollTop(container,containerScroll.top+diffBottom.top)),allowHorizontalScroll&&(diffTop.left<0||diffBottom.left>0?!0===alignWithLeft?util.scrollLeft(container,containerScroll.left+diffTop.left):!1===alignWithLeft?util.scrollLeft(container,containerScroll.left+diffBottom.left):diffTop.left<0?util.scrollLeft(container,containerScroll.left+diffTop.left):util.scrollLeft(container,containerScroll.left+diffBottom.left):onlyScrollIfNeeded||((alignWithLeft=void 0===alignWithLeft||!!alignWithLeft)?util.scrollLeft(container,containerScroll.left+diffTop.left):util.scrollLeft(container,containerScroll.left+diffBottom.left)))}},"./node_modules/dom-scroll-into-view/lib/index.js":function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__("./node_modules/dom-scroll-into-view/lib/dom-scroll-into-view.js")},"./node_modules/dom-scroll-into-view/lib/util.js":function(module){var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};function getScroll(w,top){var ret=w["page"+(top?"Y":"X")+"Offset"],method="scroll"+(top?"Top":"Left");if("number"!=typeof ret){var d=w.document;"number"!=typeof(ret=d.documentElement[method])&&(ret=d.body[method])}return ret}function getScrollLeft(w){return getScroll(w)}function getScrollTop(w){return getScroll(w,!0)}function getOffset(el){var pos=function getClientPosition(elem){var box,x=void 0,y=void 0,doc=elem.ownerDocument,body=doc.body,docElem=doc&&doc.documentElement;return x=(box=elem.getBoundingClientRect()).left,y=box.top,{left:x-=docElem.clientLeft||body.clientLeft||0,top:y-=docElem.clientTop||body.clientTop||0}}(el),doc=el.ownerDocument,w=doc.defaultView||doc.parentWindow;return pos.left+=getScrollLeft(w),pos.top+=getScrollTop(w),pos}var _RE_NUM_NO_PX=new RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i"),RE_POS=/^(top|right|bottom|left)$/;var getComputedStyleX=void 0;function each(arr,fn){for(var i=0;i<arr.length;i++)fn(arr[i])}function isBorderBoxFn(elem){return"border-box"===getComputedStyleX(elem,"boxSizing")}"undefined"!=typeof window&&(getComputedStyleX=window.getComputedStyle?function _getComputedStyle(elem,name,computedStyle_){var val="",d=elem.ownerDocument,computedStyle=computedStyle_||d.defaultView.getComputedStyle(elem,null);return computedStyle&&(val=computedStyle.getPropertyValue(name)||computedStyle[name]),val}:function _getComputedStyleIE(elem,name){var ret=elem.currentStyle&&elem.currentStyle[name];if(_RE_NUM_NO_PX.test(ret)&&!RE_POS.test(name)){var style=elem.style,left=style.left,rsLeft=elem.runtimeStyle.left;elem.runtimeStyle.left=elem.currentStyle.left,style.left="fontSize"===name?"1em":ret||0,ret=style.pixelLeft+"px",style.left=left,elem.runtimeStyle.left=rsLeft}return""===ret?"auto":ret});var BOX_MODELS=["margin","border","padding"];function swap(elem,options,callback){var old={},style=elem.style,name=void 0;for(name in options)options.hasOwnProperty(name)&&(old[name]=style[name],style[name]=options[name]);for(name in callback.call(elem),options)options.hasOwnProperty(name)&&(style[name]=old[name])}function getPBMWidth(elem,props,which){var value=0,prop=void 0,j=void 0,i=void 0;for(j=0;j<props.length;j++)if(prop=props[j])for(i=0;i<which.length;i++){var cssProp=void 0;cssProp="border"===prop?prop+which[i]+"Width":prop+which[i],value+=parseFloat(getComputedStyleX(elem,cssProp))||0}return value}function isWindow(obj){return null!=obj&&obj==obj.window}var domUtils={};function getWH(elem,name,extra){if(isWindow(elem))return"width"===name?domUtils.viewportWidth(elem):domUtils.viewportHeight(elem);if(9===elem.nodeType)return"width"===name?domUtils.docWidth(elem):domUtils.docHeight(elem);var which="width"===name?["Left","Right"]:["Top","Bottom"],borderBoxValue="width"===name?elem.offsetWidth:elem.offsetHeight,isBorderBox=(getComputedStyleX(elem),isBorderBoxFn(elem)),cssBoxValue=0;(null==borderBoxValue||borderBoxValue<=0)&&(borderBoxValue=void 0,(null==(cssBoxValue=getComputedStyleX(elem,name))||Number(cssBoxValue)<0)&&(cssBoxValue=elem.style[name]||0),cssBoxValue=parseFloat(cssBoxValue)||0),void 0===extra&&(extra=isBorderBox?1:-1);var borderBoxValueOrIsBorderBox=void 0!==borderBoxValue||isBorderBox,val=borderBoxValue||cssBoxValue;if(-1===extra)return borderBoxValueOrIsBorderBox?val-getPBMWidth(elem,["border","padding"],which):cssBoxValue;if(borderBoxValueOrIsBorderBox){var padding=2===extra?-getPBMWidth(elem,["border"],which):getPBMWidth(elem,["margin"],which);return val+(1===extra?0:padding)}return cssBoxValue+getPBMWidth(elem,BOX_MODELS.slice(extra),which)}each(["Width","Height"],(function(name){domUtils["doc"+name]=function(refWin){var d=refWin.document;return Math.max(d.documentElement["scroll"+name],d.body["scroll"+name],domUtils["viewport"+name](d))},domUtils["viewport"+name]=function(win){var prop="client"+name,doc=win.document,body=doc.body,documentElementProp=doc.documentElement[prop];return"CSS1Compat"===doc.compatMode&&documentElementProp||body&&body[prop]||documentElementProp}}));var cssShow={position:"absolute",visibility:"hidden",display:"block"};function getWHIgnoreDisplay(elem){var val=void 0,args=arguments;return 0!==elem.offsetWidth?val=getWH.apply(void 0,args):swap(elem,cssShow,(function(){val=getWH.apply(void 0,args)})),val}function css(el,name,v){var value=v;if("object"!==(void 0===name?"undefined":_typeof(name)))return void 0!==value?("number"==typeof value&&(value+="px"),void(el.style[name]=value)):getComputedStyleX(el,name);for(var i in name)name.hasOwnProperty(i)&&css(el,i,name[i])}each(["width","height"],(function(name){var first=name.charAt(0).toUpperCase()+name.slice(1);domUtils["outer"+first]=function(el,includeMargin){return el&&getWHIgnoreDisplay(el,name,includeMargin?0:1)};var which="width"===name?["Left","Right"]:["Top","Bottom"];domUtils[name]=function(elem,val){if(void 0===val)return elem&&getWHIgnoreDisplay(elem,name,-1);if(elem){getComputedStyleX(elem);return isBorderBoxFn(elem)&&(val+=getPBMWidth(elem,["padding","border"],which)),css(elem,name,val)}}})),module.exports=_extends({getWindow:function getWindow(node){var doc=node.ownerDocument||node;return doc.defaultView||doc.parentWindow},offset:function offset(el,value){if(void 0===value)return getOffset(el);!function setOffset(elem,offset){"static"===css(elem,"position")&&(elem.style.position="relative");var old=getOffset(elem),ret={},current=void 0,key=void 0;for(key in offset)offset.hasOwnProperty(key)&&(current=parseFloat(css(elem,key))||0,ret[key]=current+offset[key]-old[key]);css(elem,ret)}(el,value)},isWindow:isWindow,each:each,css:css,clone:function clone(obj){var ret={};for(var i in obj)obj.hasOwnProperty(i)&&(ret[i]=obj[i]);if(obj.overflow)for(var i in obj)obj.hasOwnProperty(i)&&(ret.overflow[i]=obj.overflow[i]);return ret},scrollLeft:function scrollLeft(w,v){if(isWindow(w)){if(void 0===v)return getScrollLeft(w);window.scrollTo(v,getScrollTop(w))}else{if(void 0===v)return w.scrollLeft;w.scrollLeft=v}},scrollTop:function scrollTop(w,v){if(isWindow(w)){if(void 0===v)return getScrollTop(w);window.scrollTo(getScrollLeft(w),v)}else{if(void 0===v)return w.scrollTop;w.scrollTop=v}},viewportWidth:0,viewportHeight:0},domUtils)},"./packages/block-editor/src/components/url-popover/stories/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{_default:function(){return _default},default:function(){return stories}});var build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),toggle_control=__webpack_require__("./packages/components/build-module/toggle-control/index.js"),react=__webpack_require__("./node_modules/react/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),keyboard_return=__webpack_require__("./packages/icons/build-module/library/keyboard-return.js"),utils=__webpack_require__("./packages/components/build-module/popover/utils.js"),popover=__webpack_require__("./packages/components/build-module/popover/index.js"),chevron_down=__webpack_require__("./packages/icons/build-module/library/chevron-down.js"),deprecated_build_module=__webpack_require__("./packages/deprecated/build-module/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),edit=__webpack_require__("./packages/icons/build-module/library/edit.js"),external_link=__webpack_require__("./packages/components/build-module/external-link/index.js"),filter_url_for_display=__webpack_require__("./packages/url/build-module/filter-url-for-display.js"),safe_decode_uri=__webpack_require__("./packages/url/build-module/safe-decode-uri.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function LinkViewerURL(_ref){let{url:url,urlLabel:urlLabel,className:className}=_ref;const linkClassName=classnames_default()(className,"block-editor-url-popover__link-viewer-url");return url?(0,jsx_runtime.jsx)(external_link.Z,{className:linkClassName,href:url,children:urlLabel||(0,filter_url_for_display.w)((0,safe_decode_uri.x)(url))}):(0,jsx_runtime.jsx)("span",{className:linkClassName})}function LinkViewer(_ref){let{className:className,linkClassName:linkClassName,onEditLinkClick:onEditLinkClick,url:url,urlLabel:urlLabel,...props}=_ref;return(0,jsx_runtime.jsxs)("div",{className:classnames_default()("block-editor-url-popover__link-viewer",className),...props,children:[(0,jsx_runtime.jsx)(LinkViewerURL,{url:url,urlLabel:urlLabel,className:linkClassName}),onEditLinkClick&&(0,jsx_runtime.jsx)(build_module_button.Z,{icon:edit.Z,label:(0,build_module.__)("Edit"),onClick:onEditLinkClick})]})}LinkViewerURL.displayName="LinkViewerURL",LinkViewerURL.__docgenInfo={description:"",methods:[],displayName:"LinkViewerURL"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/block-editor/src/components/url-popover/link-viewer-url.js"]={name:"LinkViewerURL",docgenInfo:LinkViewerURL.__docgenInfo,path:"packages/block-editor/src/components/url-popover/link-viewer-url.js"}),LinkViewer.displayName="LinkViewer",LinkViewer.__docgenInfo={description:"",methods:[],displayName:"LinkViewer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/block-editor/src/components/url-popover/link-viewer.js"]={name:"LinkViewer",docgenInfo:LinkViewer.__docgenInfo,path:"packages/block-editor/src/components/url-popover/link-viewer.js"});var lib=__webpack_require__("./node_modules/dom-scroll-into-view/lib/index.js"),lib_default=__webpack_require__.n(lib),keycodes_build_module=__webpack_require__("./packages/keycodes/build-module/index.js"),base_control=__webpack_require__("./packages/components/build-module/base-control/index.js"),spinner=__webpack_require__("./packages/components/build-module/spinner/index.js"),with_spoken_messages=__webpack_require__("./packages/components/build-module/higher-order/with-spoken-messages/index.js"),debounce=__webpack_require__("./packages/compose/build-module/utils/debounce/index.js"),compose=__webpack_require__("./packages/compose/build-module/higher-order/compose.js"),with_safe_timeout=__webpack_require__("./packages/compose/build-module/higher-order/with-safe-timeout/index.js"),with_instance_id=__webpack_require__("./packages/compose/build-module/higher-order/with-instance-id/index.js"),with_select=__webpack_require__("./packages/data/build-module/components/with-select/index.js"),is_url=__webpack_require__("./packages/url/build-module/is-url.js"),store=__webpack_require__("./packages/block-editor/src/store/index.js");function isFunction(maybeFunc){return"function"==typeof maybeFunc}class URLInput extends react.Component{constructor(props){super(props),this.onChange=this.onChange.bind(this),this.onFocus=this.onFocus.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.selectLink=this.selectLink.bind(this),this.handleOnClick=this.handleOnClick.bind(this),this.bindSuggestionNode=this.bindSuggestionNode.bind(this),this.autocompleteRef=props.autocompleteRef||(0,react.createRef)(),this.inputRef=(0,react.createRef)(),this.updateSuggestions=(0,debounce.D)(this.updateSuggestions.bind(this),200),this.suggestionNodes=[],this.suggestionsRequest=null,this.state={suggestions:[],showSuggestions:!1,isUpdatingSuggestions:!1,suggestionsValue:null,selectedSuggestion:null,suggestionsListboxId:"",suggestionOptionIdPrefix:""}}componentDidUpdate(prevProps){const{showSuggestions:showSuggestions,selectedSuggestion:selectedSuggestion}=this.state,{value:value,__experimentalShowInitialSuggestions:__experimentalShowInitialSuggestions=!1}=this.props;showSuggestions&&null!==selectedSuggestion&&this.suggestionNodes[selectedSuggestion]&&!this.scrollingIntoView&&(this.scrollingIntoView=!0,lib_default()(this.suggestionNodes[selectedSuggestion],this.autocompleteRef.current,{onlyScrollIfNeeded:!0}),this.props.setTimeout((()=>{this.scrollingIntoView=!1}),100)),prevProps.value===value||this.props.disableSuggestions||this.state.isUpdatingSuggestions||(null!=value&&value.length?this.updateSuggestions(value):__experimentalShowInitialSuggestions&&this.updateSuggestions())}componentDidMount(){this.shouldShowInitialSuggestions()&&this.updateSuggestions()}componentWillUnmount(){var _this$suggestionsRequ,_this$suggestionsRequ2;null===(_this$suggestionsRequ=this.suggestionsRequest)||void 0===_this$suggestionsRequ||null===(_this$suggestionsRequ2=_this$suggestionsRequ.cancel)||void 0===_this$suggestionsRequ2||_this$suggestionsRequ2.call(_this$suggestionsRequ),this.suggestionsRequest=null}bindSuggestionNode(index){return ref=>{this.suggestionNodes[index]=ref}}shouldShowInitialSuggestions(){const{__experimentalShowInitialSuggestions:__experimentalShowInitialSuggestions=!1,value:value}=this.props;return __experimentalShowInitialSuggestions&&!(value&&value.length)}updateSuggestions(){var _value;let value=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const{__experimentalFetchLinkSuggestions:fetchLinkSuggestions,__experimentalHandleURLSuggestions:handleURLSuggestions}=this.props;if(!fetchLinkSuggestions)return;const isInitialSuggestions=!(null!==(_value=value)&&void 0!==_value&&_value.length);var _this$suggestionsRequ3,_this$suggestionsRequ4;if(value=value.trim(),!isInitialSuggestions&&(value.length<2||!handleURLSuggestions&&(0,is_url.P)(value)))return null===(_this$suggestionsRequ3=this.suggestionsRequest)||void 0===_this$suggestionsRequ3||null===(_this$suggestionsRequ4=_this$suggestionsRequ3.cancel)||void 0===_this$suggestionsRequ4||_this$suggestionsRequ4.call(_this$suggestionsRequ3),this.suggestionsRequest=null,void this.setState({suggestions:[],showSuggestions:!1,suggestionsValue:value,selectedSuggestion:null,loading:!1});this.setState({isUpdatingSuggestions:!0,selectedSuggestion:null,loading:!0});const request=fetchLinkSuggestions(value,{isInitialSuggestions:isInitialSuggestions});request.then((suggestions=>{this.suggestionsRequest===request&&(this.setState({suggestions:suggestions,isUpdatingSuggestions:!1,suggestionsValue:value,loading:!1,showSuggestions:!!suggestions.length}),suggestions.length?this.props.debouncedSpeak((0,build_module.gB)((0,build_module._n)("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",suggestions.length),suggestions.length),"assertive"):this.props.debouncedSpeak((0,build_module.__)("No results."),"assertive"))})).catch((()=>{this.suggestionsRequest===request&&this.setState({isUpdatingSuggestions:!1,loading:!1})})),this.suggestionsRequest=request}onChange(event){this.props.onChange(event.target.value)}onFocus(){const{suggestions:suggestions}=this.state,{disableSuggestions:disableSuggestions,value:value}=this.props;!value||disableSuggestions||this.state.isUpdatingSuggestions||suggestions&&suggestions.length||this.updateSuggestions(value)}onKeyDown(event){const{showSuggestions:showSuggestions,selectedSuggestion:selectedSuggestion,suggestions:suggestions,loading:loading}=this.state;if(!showSuggestions||!suggestions.length||loading){switch(event.keyCode){case keycodes_build_module.UP:0!==event.target.selectionStart&&(event.preventDefault(),event.target.setSelectionRange(0,0));break;case keycodes_build_module.WV:this.props.value.length!==event.target.selectionStart&&(event.preventDefault(),event.target.setSelectionRange(this.props.value.length,this.props.value.length));break;case keycodes_build_module.K5:event.preventDefault(),this.props.onSubmit&&this.props.onSubmit(null,event)}return}const suggestion=this.state.suggestions[this.state.selectedSuggestion];switch(event.keyCode){case keycodes_build_module.UP:{event.preventDefault();const previousIndex=selectedSuggestion?selectedSuggestion-1:suggestions.length-1;this.setState({selectedSuggestion:previousIndex});break}case keycodes_build_module.WV:{event.preventDefault();const nextIndex=null===selectedSuggestion||selectedSuggestion===suggestions.length-1?0:selectedSuggestion+1;this.setState({selectedSuggestion:nextIndex});break}case keycodes_build_module.Mf:null!==this.state.selectedSuggestion&&(this.selectLink(suggestion),this.props.speak((0,build_module.__)("Link selected.")));break;case keycodes_build_module.K5:event.preventDefault(),null!==this.state.selectedSuggestion?(this.selectLink(suggestion),this.props.onSubmit&&this.props.onSubmit(suggestion,event)):this.props.onSubmit&&this.props.onSubmit(null,event)}}selectLink(suggestion){this.props.onChange(suggestion.url,suggestion),this.setState({selectedSuggestion:null,showSuggestions:!1})}handleOnClick(suggestion){this.selectLink(suggestion),this.inputRef.current.focus()}static getDerivedStateFromProps(_ref,_ref2){let{value:value,instanceId:instanceId,disableSuggestions:disableSuggestions,__experimentalShowInitialSuggestions:__experimentalShowInitialSuggestions=!1}=_ref,{showSuggestions:showSuggestions}=_ref2,shouldShowSuggestions=showSuggestions;const hasValue=value&&value.length;return __experimentalShowInitialSuggestions||hasValue||(shouldShowSuggestions=!1),!0===disableSuggestions&&(shouldShowSuggestions=!1),{showSuggestions:shouldShowSuggestions,suggestionsListboxId:`block-editor-url-input-suggestions-${instanceId}`,suggestionOptionIdPrefix:`block-editor-url-input-suggestion-${instanceId}`}}render(){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[this.renderControl(),this.renderSuggestions()]})}renderControl(){const{label:label=null,className:className,isFullWidth:isFullWidth,instanceId:instanceId,placeholder:placeholder=(0,build_module.__)("Paste URL or type to search"),__experimentalRenderControl:renderControl,value:value=""}=this.props,{loading:loading,showSuggestions:showSuggestions,selectedSuggestion:selectedSuggestion,suggestionsListboxId:suggestionsListboxId,suggestionOptionIdPrefix:suggestionOptionIdPrefix}=this.state,inputId=`url-input-control-${instanceId}`,controlProps={id:inputId,label:label,className:classnames_default()("block-editor-url-input",className,{"is-full-width":isFullWidth})},inputProps={id:inputId,value:value,required:!0,className:"block-editor-url-input__input",type:"text",onChange:this.onChange,onFocus:this.onFocus,placeholder:placeholder,onKeyDown:this.onKeyDown,role:"combobox","aria-label":label?void 0:(0,build_module.__)("URL"),"aria-expanded":showSuggestions,"aria-autocomplete":"list","aria-controls":suggestionsListboxId,"aria-activedescendant":null!==selectedSuggestion?`${suggestionOptionIdPrefix}-${selectedSuggestion}`:void 0,ref:this.inputRef};return renderControl?renderControl(controlProps,inputProps,loading):(0,jsx_runtime.jsxs)(base_control.ZP,{...controlProps,children:[(0,jsx_runtime.jsx)("input",{...inputProps}),loading&&(0,jsx_runtime.jsx)(spinner.ZP,{})]})}renderSuggestions(){const{className:className,__experimentalRenderSuggestions:renderSuggestions}=this.props,{showSuggestions:showSuggestions,suggestions:suggestions,suggestionsValue:suggestionsValue,selectedSuggestion:selectedSuggestion,suggestionsListboxId:suggestionsListboxId,suggestionOptionIdPrefix:suggestionOptionIdPrefix,loading:loading}=this.state;if(!showSuggestions||0===suggestions.length)return null;const suggestionsListProps={id:suggestionsListboxId,ref:this.autocompleteRef,role:"listbox"},buildSuggestionItemProps=(suggestion,index)=>({role:"option",tabIndex:"-1",id:`${suggestionOptionIdPrefix}-${index}`,ref:this.bindSuggestionNode(index),"aria-selected":index===selectedSuggestion});return isFunction(renderSuggestions)?renderSuggestions({suggestions:suggestions,selectedSuggestion:selectedSuggestion,suggestionsListProps:suggestionsListProps,buildSuggestionItemProps:buildSuggestionItemProps,isLoading:loading,handleSuggestionClick:this.handleOnClick,isInitialSuggestions:!(null!=suggestionsValue&&suggestionsValue.length),currentInputValue:suggestionsValue}):(0,jsx_runtime.jsx)(popover.Z,{placement:"bottom",focusOnMount:!1,children:(0,jsx_runtime.jsx)("div",{...suggestionsListProps,className:classnames_default()("block-editor-url-input__suggestions",`${className}__suggestions`),children:suggestions.map(((suggestion,index)=>(0,react.createElement)(build_module_button.Z,{...buildSuggestionItemProps(0,index),key:suggestion.id,className:classnames_default()("block-editor-url-input__suggestion",{"is-selected":index===selectedSuggestion}),onClick:()=>this.handleOnClick(suggestion)},suggestion.title)))})})}}URLInput.displayName="URLInput",URLInput.__docgenInfo={description:"",methods:[{name:"bindSuggestionNode",docblock:null,modifiers:[],params:[{name:"index",type:null}],returns:null},{name:"shouldShowInitialSuggestions",docblock:null,modifiers:[],params:[],returns:null},{name:"updateSuggestions",docblock:null,modifiers:[],params:[{name:"value",type:null}],returns:null},{name:"onChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"onFocus",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyDown",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"selectLink",docblock:null,modifiers:[],params:[{name:"suggestion",type:null}],returns:null},{name:"handleOnClick",docblock:null,modifiers:[],params:[{name:"suggestion",type:null}],returns:null},{name:"renderControl",docblock:null,modifiers:[],params:[],returns:null},{name:"renderSuggestions",docblock:null,modifiers:[],params:[],returns:null}],displayName:"URLInput"};var url_input=(0,compose.Z)(with_safe_timeout.Z,with_spoken_messages.Z,with_instance_id.Z,(0,with_select.Z)(((select,props)=>{if(isFunction(props.__experimentalFetchLinkSuggestions))return;const{getSettings:getSettings}=select(store.h);return{__experimentalFetchLinkSuggestions:getSettings().__experimentalFetchLinkSuggestions}})))(URLInput);function LinkEditor(_ref){let{autocompleteRef:autocompleteRef,className:className,onChangeInputValue:onChangeInputValue,value:value,...props}=_ref;return(0,jsx_runtime.jsxs)("form",{className:classnames_default()("block-editor-url-popover__link-editor",className),...props,children:[(0,jsx_runtime.jsx)(url_input,{value:value,onChange:onChangeInputValue,autocompleteRef:autocompleteRef}),(0,jsx_runtime.jsx)(build_module_button.Z,{icon:keyboard_return.Z,label:(0,build_module.__)("Apply"),type:"submit"})]})}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/block-editor/src/components/url-input/index.js"]={name:"URLInput",docgenInfo:URLInput.__docgenInfo,path:"packages/block-editor/src/components/url-input/index.js"}),LinkEditor.displayName="LinkEditor",LinkEditor.__docgenInfo={description:"",methods:[],displayName:"LinkEditor"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/block-editor/src/components/url-popover/link-editor.js"]={name:"LinkEditor",docgenInfo:LinkEditor.__docgenInfo,path:"packages/block-editor/src/components/url-popover/link-editor.js"});function URLPopover(_ref){let computedPlacement,{additionalControls:additionalControls,children:children,renderSettings:renderSettings,placement:placement,focusOnMount:focusOnMount="firstElement",position:position,...popoverProps}=_ref;void 0!==position&&(0,deprecated_build_module.Z)("`position` prop in wp.blockEditor.URLPopover",{since:"6.2",alternative:"`placement` prop"}),void 0!==placement?computedPlacement=placement:void 0!==position&&(computedPlacement=(0,utils.KF)(position)),computedPlacement=computedPlacement||"bottom";const[isSettingsExpanded,setIsSettingsExpanded]=(0,react.useState)(!1),showSettings=!!renderSettings&&isSettingsExpanded;return(0,jsx_runtime.jsxs)(popover.Z,{className:"block-editor-url-popover",focusOnMount:focusOnMount,placement:computedPlacement,shift:!0,...popoverProps,children:[(0,jsx_runtime.jsxs)("div",{className:"block-editor-url-popover__input-container",children:[(0,jsx_runtime.jsxs)("div",{className:"block-editor-url-popover__row",children:[children,!!renderSettings&&(0,jsx_runtime.jsx)(build_module_button.Z,{className:"block-editor-url-popover__settings-toggle",icon:chevron_down.Z,label:(0,build_module.__)("Link settings"),onClick:()=>{setIsSettingsExpanded(!isSettingsExpanded)},"aria-expanded":isSettingsExpanded})]}),showSettings&&(0,jsx_runtime.jsx)("div",{className:"block-editor-url-popover__row block-editor-url-popover__settings",children:renderSettings()})]}),additionalControls&&!showSettings&&(0,jsx_runtime.jsx)("div",{className:"block-editor-url-popover__additional-controls",children:additionalControls})]})}URLPopover.displayName="URLPopover",URLPopover.LinkEditor=LinkEditor,URLPopover.LinkViewer=LinkViewer,URLPopover.__docgenInfo={description:"",methods:[],displayName:"URLPopover",props:{focusOnMount:{defaultValue:{value:"'firstElement'",computed:!1},required:!1}}};var url_popover=URLPopover;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/block-editor/src/components/url-popover/index.js"]={name:"URLPopover",docgenInfo:URLPopover.__docgenInfo,path:"packages/block-editor/src/components/url-popover/index.js"});var stories={parameters:{sourceLink:"packages/block-editor/src/components/url-popover",storySource:{source:"/**\n * WordPress dependencies\n */\nimport { Button, ToggleControl } from '@wordpress/components';\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { keyboardReturn } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport URLPopover from '../';\n\nexport default { title: 'BlockEditor/URLPopover' };\n\nconst TestURLPopover = () => {\n\tconst [ isVisible, setVisiblility ] = useState( false );\n\tconst [ url, setUrl ] = useState( '' );\n\n\tconst close = () => setVisiblility( false );\n\tconst setTarget = () => {};\n\n\treturn (\n\t\t<>\n\t\t\t<Button onClick={ () => setVisiblility( true ) }>Edit URL</Button>\n\t\t\t{ isVisible && (\n\t\t\t\t<URLPopover\n\t\t\t\t\tonClose={ close }\n\t\t\t\t\trenderSettings={ () => (\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Open in new tab' ) }\n\t\t\t\t\t\t\tonChange={ setTarget }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t<form onSubmit={ close }>\n\t\t\t\t\t\t<input type=\"url\" value={ url } onChange={ setUrl } />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticon={ keyboardReturn }\n\t\t\t\t\t\t\tlabel={ __( 'Apply' ) }\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</form>\n\t\t\t\t</URLPopover>\n\t\t\t) }\n\t\t</>\n\t);\n};\n\nexport const _default = () => {\n\treturn <TestURLPopover />;\n};\n",locationsMap:{default:{startLoc:{col:24,line:50},endLoc:{col:1,line:52},startBody:{col:24,line:50},endBody:{col:1,line:52}}}}},title:"BlockEditor/URLPopover"};const TestURLPopover=()=>{const[isVisible,setVisiblility]=(0,react.useState)(!1),[url,setUrl]=(0,react.useState)(""),close=()=>setVisiblility(!1),setTarget=()=>{};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(build_module_button.Z,{onClick:()=>setVisiblility(!0),children:"Edit URL"}),isVisible&&(0,jsx_runtime.jsx)(url_popover,{onClose:close,renderSettings:()=>(0,jsx_runtime.jsx)(toggle_control.Z,{label:(0,build_module.__)("Open in new tab"),onChange:setTarget}),children:(0,jsx_runtime.jsxs)("form",{onSubmit:close,children:[(0,jsx_runtime.jsx)("input",{type:"url",value:url,onChange:setUrl}),(0,jsx_runtime.jsx)(build_module_button.Z,{icon:keyboard_return.Z,label:(0,build_module.__)("Apply"),type:"submit"})]})})]})},_default=()=>(0,jsx_runtime.jsx)(TestURLPopover,{});_default.displayName="_default",_default.__docgenInfo={description:"",methods:[],displayName:"_default"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/block-editor/src/components/url-popover/stories/index.js"]={name:"_default",docgenInfo:_default.__docgenInfo,path:"packages/block-editor/src/components/url-popover/stories/index.js"})}}]);
//# sourceMappingURL=components-url-popover-stories.5d6d53a6.iframe.bundle.js.map