"use strict";(self.webpackChunkgutenberg=self.webpackChunkgutenberg||[]).push([[738],{"./packages/components/src/custom-gradient-picker/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return CustomGradientPicker}});var classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),build_module=__webpack_require__("./packages/deprecated/build-module/index.js"),i18n_build_module=__webpack_require__("./packages/i18n/build-module/index.js"),angle_picker_control=__webpack_require__("./packages/components/src/angle-picker-control/index.js"),gradient_bar=__webpack_require__("./packages/components/src/custom-gradient-picker/gradient-bar/index.js"),component=__webpack_require__("./packages/components/src/flex/flex/component.tsx"),select_control=__webpack_require__("./packages/components/src/select-control/index.tsx"),v_stack_component=__webpack_require__("./packages/components/src/v-stack/component.tsx"),node=__webpack_require__("./node_modules/gradient-parser/build/node.js"),colord=__webpack_require__("./node_modules/colord/index.mjs"),names=__webpack_require__("./node_modules/colord/plugins/names.mjs");const DEFAULT_GRADIENT="linear-gradient(135deg, rgba(6, 147, 227, 1) 0%, rgb(155, 81, 224) 100%)",HORIZONTAL_GRADIENT_ORIENTATION={type:"angular",value:90},GRADIENT_OPTIONS=[{value:"linear-gradient",label:(0,i18n_build_module.__)("Linear")},{value:"radial-gradient",label:(0,i18n_build_module.__)("Radial")}],DIRECTIONAL_ORIENTATION_ANGLE_MAP={top:0,"top right":45,"right top":45,right:90,"right bottom":135,"bottom right":135,bottom:180,"bottom left":225,"left bottom":225,left:270,"top left":315,"left top":315};function serializeGradientColorStop(_ref2){let{type:type,value:value,length:length}=_ref2;return`${function serializeGradientColor(_ref){let{type:type,value:value}=_ref;return"literal"===type?value:"hex"===type?`#${value}`:`${type}(${value.join(",")})`}({type:type,value:value})} ${function serializeGradientPosition(position){if(!position)return"";const{value:value,type:type}=position;return`${value}${type}`}(length)}`}function serializeGradient(_ref3){let{type:type,orientation:orientation,colorStops:colorStops}=_ref3;const serializedOrientation=function serializeGradientOrientation(orientation){if(orientation&&"angular"===orientation.type)return`${orientation.value}deg`}(orientation);return`${type}(${[serializedOrientation,...colorStops.sort(((colorStop1,colorStop2)=>{var _colorStop1$length$va,_colorStop1$length,_colorStop2$length$va,_colorStop2$length;return(null!==(_colorStop1$length$va=null==colorStop1||null===(_colorStop1$length=colorStop1.length)||void 0===_colorStop1$length?void 0:_colorStop1$length.value)&&void 0!==_colorStop1$length$va?_colorStop1$length$va:0)-(null!==(_colorStop2$length$va=null==colorStop2||null===(_colorStop2$length=colorStop2.length)||void 0===_colorStop2$length?void 0:_colorStop2$length.value)&&void 0!==_colorStop2$length$va?_colorStop2$length$va:0)})).map(serializeGradientColorStop)].filter(Boolean).join(",")})`}function hasUnsupportedLength(item){return void 0===item.length||"%"!==item.length.type}function getStopCssColor(colorStop){switch(colorStop.type){case"hex":return`#${colorStop.value}`;case"literal":return colorStop.value;case"rgb":case"rgba":return`${colorStop.type}(${colorStop.value.join(",")})`;default:return"transparent"}}(0,colord.l7)([names.Z]);var emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),flex_block_component=__webpack_require__("./packages/components/src/flex/flex-block/component.tsx");const SelectWrapper=(0,emotion_styled_base_browser_esm.Z)(flex_block_component.Z,{target:"e99xvul1"})({name:"1gvx10y",styles:"flex-grow:5"}),AccessoryWrapper=(0,emotion_styled_base_browser_esm.Z)(flex_block_component.Z,{target:"e99xvul0"})({name:"1gvx10y",styles:"flex-grow:5"});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const GradientAnglePicker=_ref=>{var _gradientAST$orientat,_gradientAST$orientat2;let{gradientAST:gradientAST,hasGradient:hasGradient,onChange:onChange}=_ref;const angle=null!==(_gradientAST$orientat=null==gradientAST||null===(_gradientAST$orientat2=gradientAST.orientation)||void 0===_gradientAST$orientat2?void 0:_gradientAST$orientat2.value)&&void 0!==_gradientAST$orientat?_gradientAST$orientat:180;return(0,jsx_runtime.jsx)(angle_picker_control.Z,{__nextHasNoMarginBottom:!0,onChange:newAngle=>{onChange(serializeGradient({...gradientAST,orientation:{type:"angular",value:newAngle}}))},labelPosition:"top",value:hasGradient?angle:""})};GradientAnglePicker.displayName="GradientAnglePicker";const GradientTypePicker=_ref2=>{let{gradientAST:gradientAST,hasGradient:hasGradient,onChange:onChange}=_ref2;const{type:type}=gradientAST;return(0,jsx_runtime.jsx)(select_control.Z,{__nextHasNoMarginBottom:!0,className:"components-custom-gradient-picker__type-picker",label:(0,i18n_build_module.__)("Type"),labelPosition:"top",onChange:next=>{"linear-gradient"===next&&onChange(serializeGradient({...gradientAST,...gradientAST.orientation?{}:{orientation:HORIZONTAL_GRADIENT_ORIENTATION},type:"linear-gradient"})),"radial-gradient"===next&&(()=>{const{orientation:orientation,...restGradientAST}=gradientAST;onChange(serializeGradient({...restGradientAST,type:"radial-gradient"}))})()},options:GRADIENT_OPTIONS,size:"__unstable-large",value:hasGradient&&type})};function CustomGradientPicker(_ref3){let{__nextHasNoMargin:__nextHasNoMargin=!1,value:value,onChange:onChange,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar}=_ref3;const gradientAST=function getGradientAstWithDefault(value){var _gradientAST$orientat;let gradientAST;try{gradientAST=node.parse(value)[0],gradientAST.value=value}catch(error){gradientAST=node.parse(DEFAULT_GRADIENT)[0],gradientAST.value=DEFAULT_GRADIENT}if("directional"===(null===(_gradientAST$orientat=gradientAST.orientation)||void 0===_gradientAST$orientat?void 0:_gradientAST$orientat.type)&&(gradientAST.orientation.type="angular",gradientAST.orientation.value=DIRECTIONAL_ORIENTATION_ANGLE_MAP[gradientAST.orientation.value].toString()),gradientAST.colorStops.some(hasUnsupportedLength)){const{colorStops:colorStops}=gradientAST,step=100/(colorStops.length-1);colorStops.forEach(((stop,index)=>{stop.length={value:step*index,type:"%"}})),gradientAST.value=serializeGradient(gradientAST)}return gradientAST}(value),background=function getLinearGradientRepresentation(gradientAST){return serializeGradient({type:"linear-gradient",orientation:HORIZONTAL_GRADIENT_ORIENTATION,colorStops:gradientAST.colorStops})}(gradientAST),hasGradient=gradientAST.value!==DEFAULT_GRADIENT,controlPoints=gradientAST.colorStops.map((colorStop=>({color:getStopCssColor(colorStop),position:parseInt(colorStop.length.value)})));return __nextHasNoMargin||(0,build_module.Z)("Outer margin styles for wp.components.CustomGradientPicker",{since:"6.1",version:"6.4",hint:"Set the `__nextHasNoMargin` prop to true to start opting into the new styles, which will become the default in a future version"}),(0,jsx_runtime.jsxs)(v_stack_component.Z,{spacing:4,className:classnames_default()("components-custom-gradient-picker",{"is-next-has-no-margin":__nextHasNoMargin}),children:[(0,jsx_runtime.jsx)(gradient_bar.Z,{__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,background:background,hasGradient:hasGradient,value:controlPoints,onChange:newControlPoints=>{onChange(serializeGradient(function getGradientAstWithControlPoints(gradientAST,newControlPoints){return{...gradientAST,colorStops:newControlPoints.map((_ref=>{let{position:position,color:color}=_ref;const{r:r,g:g,b:b,a:a}=(0,colord.Vi)(color).toRgb();return{length:{type:"%",value:null==position?void 0:position.toString()},type:a<1?"rgba":"rgb",value:a<1?[r,g,b,a]:[r,g,b]}}))}}(gradientAST,newControlPoints)))}}),(0,jsx_runtime.jsxs)(component.Z,{gap:3,className:"components-custom-gradient-picker__ui-line",children:[(0,jsx_runtime.jsx)(SelectWrapper,{children:(0,jsx_runtime.jsx)(GradientTypePicker,{gradientAST:gradientAST,hasGradient:hasGradient,onChange:onChange})}),(0,jsx_runtime.jsx)(AccessoryWrapper,{children:"linear-gradient"===gradientAST.type&&(0,jsx_runtime.jsx)(GradientAnglePicker,{gradientAST:gradientAST,hasGradient:hasGradient,onChange:onChange})})]})]})}GradientTypePicker.displayName="GradientTypePicker",CustomGradientPicker.displayName="CustomGradientPicker",CustomGradientPicker.__docgenInfo={description:"",methods:[],displayName:"CustomGradientPicker",props:{__nextHasNoMargin:{defaultValue:{value:"false",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/custom-gradient-picker/index.js"]={name:"CustomGradientPicker",docgenInfo:CustomGradientPicker.__docgenInfo,path:"packages/components/src/custom-gradient-picker/index.js"})},"./packages/components/src/gradient-picker/stories/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},MultipleOrigins:function(){return MultipleOrigins},WithNoExistingGradients:function(){return WithNoExistingGradients},default:function(){return stories}});var react=__webpack_require__("./node_modules/react/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),deprecated_build_module=__webpack_require__("./packages/deprecated/build-module/index.js"),circular_option_picker=__webpack_require__("./packages/components/src/circular-option-picker/index.js"),custom_gradient_picker=__webpack_require__("./packages/components/src/custom-gradient-picker/index.js"),component=__webpack_require__("./packages/components/src/v-stack/component.tsx"),styles=__webpack_require__("./packages/components/src/color-palette/styles.ts"),spacer_component=__webpack_require__("./packages/components/src/spacer/component.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function SingleOrigin(_ref){let{className:className,clearGradient:clearGradient,gradients:gradients,onChange:onChange,value:value,actions:actions}=_ref;const gradientOptions=(0,react.useMemo)((()=>gradients.map(((_ref2,index)=>{let{gradient:gradient,name:name}=_ref2;return(0,jsx_runtime.jsx)(circular_option_picker.Z.Option,{value:gradient,isSelected:value===gradient,tooltipText:name||(0,build_module.gB)((0,build_module.__)("Gradient code: %s"),gradient),style:{color:"rgba( 0,0,0,0 )",background:gradient},onClick:value===gradient?clearGradient:()=>onChange(gradient,index),"aria-label":name?(0,build_module.gB)((0,build_module.__)("Gradient: %s"),name):(0,build_module.gB)((0,build_module.__)("Gradient code: %s"),gradient)},gradient)}))),[gradients,value,onChange,clearGradient]);return(0,jsx_runtime.jsx)(circular_option_picker.Z,{className:className,options:gradientOptions,actions:actions})}function MultipleOrigin(_ref3){let{className:className,clearGradient:clearGradient,gradients:gradients,onChange:onChange,value:value,actions:actions}=_ref3;return(0,jsx_runtime.jsx)(component.Z,{spacing:3,className:className,children:gradients.map(((_ref4,index)=>{let{name:name,gradients:gradientSet}=_ref4;return(0,jsx_runtime.jsxs)(component.Z,{spacing:2,children:[(0,jsx_runtime.jsx)(styles.A,{children:name}),(0,jsx_runtime.jsx)(SingleOrigin,{clearGradient:clearGradient,gradients:gradientSet,onChange:gradient=>onChange(gradient,index),value:value,...gradients.length===index+1?{actions:actions}:{}})]},index)}))})}function GradientPicker(_ref5){let{__nextHasNoMargin:__nextHasNoMargin=!1,className:className,gradients:gradients,onChange:onChange,value:value,clearable:clearable=!0,disableCustomGradients:disableCustomGradients=!1,__experimentalHasMultipleOrigins:__experimentalHasMultipleOrigins,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar}=_ref5;const clearGradient=(0,react.useCallback)((()=>onChange(void 0)),[onChange]),Component=__experimentalHasMultipleOrigins&&null!=gradients&&gradients.length?MultipleOrigin:SingleOrigin;__nextHasNoMargin||(0,deprecated_build_module.Z)("Outer margin styles for wp.components.GradientPicker",{since:"6.1",version:"6.4",hint:"Set the `__nextHasNoMargin` prop to true to start opting into the new styles, which will become the default in a future version"});const deprecatedMarginSpacerProps=__nextHasNoMargin?{}:{marginTop:null!=gradients&&gradients.length?void 0:3,marginBottom:clearable?0:6};return(0,jsx_runtime.jsx)(spacer_component.Z,{marginBottom:0,...deprecatedMarginSpacerProps,children:(0,jsx_runtime.jsxs)(component.Z,{spacing:null!=gradients&&gradients.length?4:0,children:[!disableCustomGradients&&(0,jsx_runtime.jsx)(custom_gradient_picker.Z,{__nextHasNoMargin:!0,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,value:value,onChange:onChange}),((null==gradients?void 0:gradients.length)||clearable)&&(0,jsx_runtime.jsx)(Component,{className:className,clearable:clearable,clearGradient:clearGradient,gradients:gradients,onChange:onChange,value:value,actions:clearable&&!disableCustomGradients&&(0,jsx_runtime.jsx)(circular_option_picker.Z.ButtonAction,{onClick:clearGradient,children:(0,build_module.__)("Clear")})})]})})}SingleOrigin.displayName="SingleOrigin",MultipleOrigin.displayName="MultipleOrigin",GradientPicker.displayName="GradientPicker",GradientPicker.__docgenInfo={description:"",methods:[],displayName:"GradientPicker",props:{__nextHasNoMargin:{defaultValue:{value:"false",computed:!1},required:!1},clearable:{defaultValue:{value:"true",computed:!1},required:!1},disableCustomGradients:{defaultValue:{value:"false",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/gradient-picker/index.js"]={name:"GradientPicker",docgenInfo:GradientPicker.__docgenInfo,path:"packages/components/src/gradient-picker/index.js"});var stories={parameters:{sourceLink:"packages/components/src/gradient-picker",storySource:{source:"/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport GradientPicker from '../';\n\nexport default {\n\ttitle: 'Components/GradientPicker',\n\tcomponent: GradientPicker,\n\targTypes: {\n\t\t__nextHasNoMargin: { control: { type: 'boolean' } },\n\t\tclearable: { control: { type: 'boolean' } },\n\t\tdisableCustomGradients: { control: { type: 'boolean' } },\n\t\tonChange: { action: 'onChange' },\n\t},\n};\n\nconst GRADIENTS = [\n\t{\n\t\tname: 'Vivid cyan blue to vivid purple',\n\t\tgradient:\n\t\t\t'linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%)',\n\t\tslug: 'vivid-cyan-blue-to-vivid-purple',\n\t},\n\t{\n\t\tname: 'Light green cyan to vivid green cyan',\n\t\tgradient:\n\t\t\t'linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%)',\n\t\tslug: 'light-green-cyan-to-vivid-green-cyan',\n\t},\n\t{\n\t\tname: 'Luminous vivid amber to luminous vivid orange',\n\t\tgradient:\n\t\t\t'linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%)',\n\t\tslug: 'luminous-vivid-amber-to-luminous-vivid-orange',\n\t},\n\t{\n\t\tname: 'Luminous vivid orange to vivid red',\n\t\tgradient:\n\t\t\t'linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%)',\n\t\tslug: 'luminous-vivid-orange-to-vivid-red',\n\t},\n\t{\n\t\tname: 'Very light gray to cyan bluish gray',\n\t\tgradient:\n\t\t\t'linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%)',\n\t\tslug: 'very-light-gray-to-cyan-bluish-gray',\n\t},\n\t{\n\t\tname: 'Cool to warm spectrum',\n\t\tgradient:\n\t\t\t'linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%)',\n\t\tslug: 'cool-to-warm-spectrum',\n\t},\n];\n\nconst Template = ( { onChange, ...props } ) => {\n\tconst [ gradient, setGradient ] = useState();\n\treturn (\n\t\t<GradientPicker\n\t\t\t{ ...props }\n\t\t\tvalue={ gradient }\n\t\t\tonChange={ ( ...changeArgs ) => {\n\t\t\t\tsetGradient( ...changeArgs );\n\t\t\t\tonChange?.( ...changeArgs );\n\t\t\t} }\n\t\t/>\n\t);\n};\n\nexport const Default = Template.bind( {} );\nDefault.args = {\n\t__nextHasNoMargin: true,\n\tgradients: GRADIENTS,\n};\n\nexport const WithNoExistingGradients = Template.bind( {} );\nWithNoExistingGradients.args = {\n\t...Default.args,\n\tgradients: [],\n};\n\nexport const MultipleOrigins = Template.bind( {} );\nMultipleOrigins.args = {\n\t...Default.args,\n\t__experimentalHasMultipleOrigins: true,\n\tgradients: [\n\t\t{ name: 'Origin 1', gradients: GRADIENTS },\n\t\t{ name: 'Origin 2', gradients: GRADIENTS },\n\t],\n};\n",locationsMap:{default:{startLoc:{col:17,line:61},endLoc:{col:1,line:73},startBody:{col:17,line:61},endBody:{col:1,line:73}},"with-no-existing-gradients":{startLoc:{col:17,line:61},endLoc:{col:1,line:73},startBody:{col:17,line:61},endBody:{col:1,line:73}},"multiple-origins":{startLoc:{col:17,line:61},endLoc:{col:1,line:73},startBody:{col:17,line:61},endBody:{col:1,line:73}}}}},title:"Components/GradientPicker",component:GradientPicker,argTypes:{__nextHasNoMargin:{control:{type:"boolean"}},clearable:{control:{type:"boolean"}},disableCustomGradients:{control:{type:"boolean"}},onChange:{action:"onChange"}}};const GRADIENTS=[{name:"Vivid cyan blue to vivid purple",gradient:"linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%)",slug:"vivid-cyan-blue-to-vivid-purple"},{name:"Light green cyan to vivid green cyan",gradient:"linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%)",slug:"light-green-cyan-to-vivid-green-cyan"},{name:"Luminous vivid amber to luminous vivid orange",gradient:"linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%)",slug:"luminous-vivid-amber-to-luminous-vivid-orange"},{name:"Luminous vivid orange to vivid red",gradient:"linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%)",slug:"luminous-vivid-orange-to-vivid-red"},{name:"Very light gray to cyan bluish gray",gradient:"linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%)",slug:"very-light-gray-to-cyan-bluish-gray"},{name:"Cool to warm spectrum",gradient:"linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%)",slug:"cool-to-warm-spectrum"}],Template=_ref=>{let{onChange:onChange,...props}=_ref;const[gradient,setGradient]=(0,react.useState)();return(0,jsx_runtime.jsx)(GradientPicker,{...props,value:gradient,onChange:function(){for(var _len=arguments.length,changeArgs=new Array(_len),_key=0;_key<_len;_key++)changeArgs[_key]=arguments[_key];setGradient(...changeArgs),null==onChange||onChange(...changeArgs)}})};Template.displayName="Template";const Default=Template.bind({});Default.args={__nextHasNoMargin:!0,gradients:GRADIENTS};const WithNoExistingGradients=Template.bind({});WithNoExistingGradients.args={...Default.args,gradients:[]};const MultipleOrigins=Template.bind({});MultipleOrigins.args={...Default.args,__experimentalHasMultipleOrigins:!0,gradients:[{name:"Origin 1",gradients:GRADIENTS},{name:"Origin 2",gradients:GRADIENTS}]}}}]);